{"version":3,"file":"index-DOBu6uWq.js","sources":["../../src/services/ws-service.ts","../../src/demo/demo-scenario.ts","../../node_modules/@lit/reactive-element/css-tag.js","../../node_modules/@lit/reactive-element/reactive-element.js","../../node_modules/lit-html/lit-html.js","../../node_modules/lit-element/lit-element.js","../../node_modules/@lit/reactive-element/decorators/custom-element.js","../../node_modules/@lit/reactive-element/decorators/property.js","../../node_modules/@lit/reactive-element/decorators/state.js","../../node_modules/@lit/reactive-element/decorators/base.js","../../node_modules/@lit/reactive-element/decorators/query.js","../../src/services/ws-reactive-controller.ts","../../src/types/ui-state.ts","../../src/components/oc-ws-status.ts","../../src/components/oc-resource-bar.ts","../../node_modules/lit-html/directive.js","../../node_modules/lit-html/directive-helpers.js","../../node_modules/lit-html/directives/repeat.js","../../src/services/session-lineage.ts","../../src/components/oc-agent-tree.ts","../../src/utils/throttle.ts","../../src/components/oc-activity-feed.ts","../../src/components/oc-session-detail.ts","../../src/app.ts"],"sourcesContent":["/**\n * WsService â€” singleton WebSocket client with auto-reconnect,\n * event subscription management, and send-queue buffering.\n *\n * Usage:\n *   const ws = WsService.getInstance();\n *   ws.connect('ws://localhost:4000');\n *   const unsub = ws.subscribe('run.started', (e) => console.log(e));\n *   // later:\n *   unsub();\n */\n\nexport type WsStatus = 'connected' | 'connecting' | 'disconnected' | 'error';\n\ntype EventHandler = (event: unknown) => void;\ntype StatusChangeListener = (status: WsStatus) => void;\n\ninterface SubscriptionEntry {\n  eventKind: string;\n  handler: EventHandler;\n}\n\nconst WS_STATUS_CHANGE_EVENT = 'ws-status-change';\nconst MAX_SEND_QUEUE = 100;\nconst BASE_BACKOFF_MS = 1000;\nconst MAX_BACKOFF_MS = 30_000;\nconst JITTER_FACTOR = 0.2;\nconst MAX_RETRIES_BEFORE_PAUSE = 5;\nconst PAUSE_AFTER_MAX_RETRIES_MS = 60_000;\n\nexport class WsService extends EventTarget {\n  private static instance: WsService | null = null;\n\n  private socket: WebSocket | null = null;\n  private url: string | null = null;\n  private status: WsStatus = 'disconnected';\n  private retryCount = 0;\n  private reconnectTimer: ReturnType<typeof setTimeout> | null = null;\n  private sendQueue: object[] = [];\n  private subscriptions: SubscriptionEntry[] = [];\n\n  private constructor() {\n    super();\n  }\n\n  /** Get (or create) the singleton WsService instance. */\n  static getInstance(): WsService {\n    if (!WsService.instance) {\n      WsService.instance = new WsService();\n    }\n    return WsService.instance;\n  }\n\n  /**\n   * Connect to the Gateway WebSocket.\n   * Safe to call multiple times â€” if already connected to the same URL, no-op.\n   *\n   * @param url WebSocket URL (e.g. ws://localhost:4000)\n   */\n  connect(url: string): void {\n    if (this.socket && this.url === url && this.status === 'connected') return;\n    this.url = url;\n    this.retryCount = 0;\n    this.openSocket();\n  }\n\n  /** Cleanly disconnect and stop reconnection attempts. */\n  disconnect(): void {\n    this.stopReconnect();\n    if (this.socket) {\n      this.socket.onclose = null; // prevent auto-reconnect on deliberate close\n      this.socket.close(1000, 'disconnect');\n      this.socket = null;\n    }\n    this.setStatus('disconnected');\n  }\n\n  /**\n   * Subscribe to a specific Gateway event kind.\n   *\n   * @param eventKind  The event kind string (e.g. 'run.started', 'tool.completed')\n   * @param handler    Called with the parsed event payload\n   * @returns          Unsubscribe function â€” call to remove this handler\n   */\n  subscribe(eventKind: string, handler: EventHandler): () => void {\n    const entry: SubscriptionEntry = { eventKind, handler };\n    this.subscriptions.push(entry);\n    return () => {\n      this.subscriptions = this.subscriptions.filter((s) => s !== entry);\n    };\n  }\n\n  /**\n   * Subscribe to all events (any kind).\n   * Useful for debugging or catch-all processors.\n   */\n  subscribeAll(handler: EventHandler): () => void {\n    return this.subscribe('*', handler);\n  }\n\n  /**\n   * Send a message to the Gateway.\n   * If disconnected, queues the message and flushes on reconnect (max 100 queued).\n   *\n   * @param message JSON-serializable object\n   */\n  send(message: object): void {\n    if (this.socket && this.status === 'connected') {\n      this.socket.send(JSON.stringify(message));\n    } else {\n      if (this.sendQueue.length >= MAX_SEND_QUEUE) {\n        this.sendQueue.shift(); // drop oldest\n      }\n      this.sendQueue.push(message);\n    }\n  }\n\n  /**\n   * Current connection status.\n   */\n  getStatus(): WsStatus {\n    return this.status;\n  }\n\n  /** Add a listener for status changes. Returns a removal function. */\n  onStatusChange(listener: StatusChangeListener): () => void {\n    const handler = (e: Event) => {\n      listener((e as CustomEvent<WsStatus>).detail);\n    };\n    this.addEventListener(WS_STATUS_CHANGE_EVENT, handler);\n    return () => this.removeEventListener(WS_STATUS_CHANGE_EVENT, handler);\n  }\n\n  // â”€â”€â”€ Private â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n  private openSocket(): void {\n    if (!this.url) return;\n    this.setStatus('connecting');\n\n    try {\n      this.socket = new WebSocket(this.url);\n    } catch (err) {\n      this.setStatus('error');\n      this.scheduleReconnect();\n      return;\n    }\n\n    this.socket.onopen = () => {\n      this.retryCount = 0;\n      this.setStatus('connected');\n      this.flushSendQueue();\n    };\n\n    this.socket.onmessage = (event: MessageEvent) => {\n      this.handleIncomingMessage(event.data);\n    };\n\n    this.socket.onerror = () => {\n      this.setStatus('error');\n    };\n\n    this.socket.onclose = () => {\n      this.socket = null;\n      if (this.status !== 'disconnected') {\n        this.scheduleReconnect();\n      }\n    };\n  }\n\n  private handleIncomingMessage(raw: unknown): void {\n    let parsed: unknown;\n    try {\n      parsed = typeof raw === 'string' ? JSON.parse(raw) : raw;\n    } catch {\n      return;\n    }\n\n    if (typeof parsed !== 'object' || parsed === null) return;\n    const msg = parsed as { eventKind?: string; [key: string]: unknown };\n    const kind = msg.eventKind ?? '';\n\n    for (const sub of this.subscriptions) {\n      if (sub.eventKind === '*' || sub.eventKind === kind) {\n        try {\n          sub.handler(parsed);\n        } catch {\n          // Individual handler errors must not break the dispatch loop\n        }\n      }\n    }\n  }\n\n  private flushSendQueue(): void {\n    while (this.sendQueue.length > 0 && this.status === 'connected') {\n      const message = this.sendQueue.shift()!;\n      this.socket?.send(JSON.stringify(message));\n    }\n  }\n\n  private scheduleReconnect(): void {\n    if (this.reconnectTimer !== null) return;\n\n    if (this.retryCount >= MAX_RETRIES_BEFORE_PAUSE) {\n      this.retryCount = 0;\n      this.setStatus('disconnected');\n      this.reconnectTimer = setTimeout(() => {\n        this.reconnectTimer = null;\n        this.openSocket();\n      }, PAUSE_AFTER_MAX_RETRIES_MS);\n      return;\n    }\n\n    const base = Math.min(BASE_BACKOFF_MS * 2 ** this.retryCount, MAX_BACKOFF_MS);\n    const jitter = base * JITTER_FACTOR * (Math.random() * 2 - 1);\n    const delay = Math.max(0, base + jitter);\n    this.retryCount++;\n\n    this.reconnectTimer = setTimeout(() => {\n      this.reconnectTimer = null;\n      this.openSocket();\n    }, delay);\n  }\n\n  private stopReconnect(): void {\n    if (this.reconnectTimer !== null) {\n      clearTimeout(this.reconnectTimer);\n      this.reconnectTimer = null;\n    }\n  }\n\n  private setStatus(status: WsStatus): void {\n    if (this.status === status) return;\n    this.status = status;\n    this.dispatchEvent(\n      new CustomEvent<WsStatus>(WS_STATUS_CHANGE_EVENT, { detail: status })\n    );\n  }\n}\n","/**\n * Demo scenario â€” simulates a full Planner â†’ Maestro â†’ Worker pipeline\n * by injecting fake Gateway events directly into WsService subscribers.\n *\n * Activates automatically on localhost, or append ?demo to any URL.\n */\n\nimport { WsService } from '../services/ws-service.js';\n\nconst delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\nconst ts = () => new Date().toISOString();\n\nfunction emit(event: Record<string, unknown>) {\n  // Reach into subscriptions via subscribeAll and immediately dispatch\n  const ws = WsService.getInstance();\n  // Dispatch via a one-time subscribeAll handler we control\n  const raw = JSON.stringify(event);\n  // Directly fire via the internal message path by creating a mock MessageEvent\n  const mockEvent = new MessageEvent('message', { data: raw });\n  // We call the internal handleIncomingMessage by re-using the existing\n  // subscribeAll â†’ this fakes an inbound WS message\n  (ws as any).handleIncomingMessage?.(raw) ?? ws.dispatchEvent(\n    Object.assign(new CustomEvent('_demo_event'), { data: raw })\n  );\n}\n\nexport async function runDemoScenario() {\n  const ws = WsService.getInstance() as any;\n  // Patch: expose handleIncomingMessage for demo use if not already public\n  const dispatch = (event: Record<string, unknown>) => {\n    try {\n      ws.handleIncomingMessage(JSON.stringify(event));\n    } catch {\n      // fallback: fire synthetic events through all subscribers\n      const subs: Array<{ eventKind: string; handler: (e: unknown) => void }> =\n        ws.subscriptions ?? [];\n      for (const sub of subs) {\n        if (sub.eventKind === '*' || sub.eventKind === event['eventKind']) {\n          sub.handler(event);\n        }\n      }\n    }\n  };\n\n  // Patch WsService status to \"connected\" so UI shows green\n  ws.status = 'connected';\n  ws.dispatchEvent(new CustomEvent('ws-status-change', { detail: 'connected' }));\n\n  console.log('ðŸŽ¬ Demo: Starting fake agent orchestrator scenario...');\n\n  // â”€â”€ Step 1: Main session comes online â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  dispatch({ eventKind: 'session.created', sessionKey: 'agent:main:discord:111', timestamp: ts(), model: 'github-copilot/claude-sonnet-4.6', channel: 'discord', label: 'main' });\n  await delay(1200);\n\n  // â”€â”€ Step 2: Notion poller wakes up Planner â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  dispatch({ eventKind: 'session.created', sessionKey: 'agent:planner:cron:222', parentSessionKey: 'agent:main:discord:111', timestamp: ts(), model: 'github-copilot/claude-opus-4.6', channel: 'cron', label: 'planner â€” \"Build a Weather App\"' });\n  dispatch({ eventKind: 'run.started', sessionKey: 'agent:planner:cron:222', timestamp: ts(), runId: 'run-planner-1', taskSummary: 'Planning: Build a Weather App' });\n  await delay(800);\n\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:planner:cron:222', timestamp: ts(), toolName: 'exec', argsSummary: 'mcporter call notion.notion-fetch (ticket body)' });\n  await delay(600);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:planner:cron:222', timestamp: ts(), toolName: 'exec', resultSummary: 'âœ“ Fetched ticket: \"Build a Weather App â€” show current + 5-day forecast\"', isError: false });\n  await delay(900);\n\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:planner:cron:222', timestamp: ts(), toolName: 'web_search', argsSummary: '\"best weather app tech stack 2026 React\"' });\n  await delay(1400);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:planner:cron:222', timestamp: ts(), toolName: 'web_search', resultSummary: 'âœ“ Vite + React + Tailwind + Open-Meteo API (free, no key required)', isError: false });\n  await delay(700);\n\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:planner:cron:222', timestamp: ts(), toolName: 'web_search', argsSummary: '\"open-meteo api documentation forecast endpoint\"' });\n  await delay(1100);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:planner:cron:222', timestamp: ts(), toolName: 'web_search', resultSummary: 'âœ“ GET /v1/forecast?lat=...&lon=...&daily=temperature_2m_max', isError: false });\n  await delay(900);\n\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:planner:cron:222', timestamp: ts(), toolName: 'exec', argsSummary: 'mcporter call notion.notion-update-page (write plan + Status â†’ Ready for Work)' });\n  await delay(600);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:planner:cron:222', timestamp: ts(), toolName: 'exec', resultSummary: 'âœ“ Plan written to Notion. Status set to \"Ready for Work\"', isError: false });\n\n  dispatch({ eventKind: 'run.completed', sessionKey: 'agent:planner:cron:222', timestamp: ts(), runId: 'run-planner-1', tokenCounts: { inputTokens: 5200, outputTokens: 1100, totalTokens: 6300, estimatedCostUsd: 0.018 } });\n  dispatch({ eventKind: 'session.destroyed', sessionKey: 'agent:planner:cron:222', timestamp: ts() });\n  await delay(1800);\n\n  // â”€â”€ Step 3: Maestro picks up the ticket â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  dispatch({ eventKind: 'session.created', sessionKey: 'agent:maestro:cron:333', parentSessionKey: 'agent:main:discord:111', timestamp: ts(), model: 'github-copilot/claude-sonnet-4.6', channel: 'cron', label: 'maestro â€” \"Build a Weather App\"' });\n  dispatch({ eventKind: 'run.started', sessionKey: 'agent:maestro:cron:333', timestamp: ts(), runId: 'run-maestro-1', taskSummary: 'Orchestrating 4 subtasks' });\n  await delay(800);\n\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:maestro:cron:333', timestamp: ts(), toolName: 'exec', argsSummary: 'mcporter call notion.notion-fetch (read plan checkboxes)' });\n  await delay(700);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:maestro:cron:333', timestamp: ts(), toolName: 'exec', resultSummary: 'âœ“ Plan has 4 tasks: scaffold, API integration, UI components, deploy', isError: false });\n  await delay(1000);\n\n  // â”€â”€ Step 4: Worker 1 â€” Scaffold â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  dispatch({ eventKind: 'subagent.spawned', sessionKey: 'agent:maestro:cron:333', timestamp: ts(), childSessionKey: 'agent:worker:sub:444', agentId: 'worker', label: 'worker-1-scaffold' });\n  dispatch({ eventKind: 'session.created', sessionKey: 'agent:worker:sub:444', parentSessionKey: 'agent:maestro:cron:333', timestamp: ts(), model: 'github-copilot/claude-haiku-4.5', channel: 'subagent', label: 'worker-1 â€” scaffold app' });\n  dispatch({ eventKind: 'run.started', sessionKey: 'agent:worker:sub:444', timestamp: ts(), runId: 'run-worker-1', taskSummary: 'npx create-vite weather-app' });\n  await delay(800);\n\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:worker:sub:444', timestamp: ts(), toolName: 'exec', argsSummary: 'npx create-vite weather-app --template react-ts' });\n  await delay(2200);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:worker:sub:444', timestamp: ts(), toolName: 'exec', resultSummary: 'âœ“ Scaffolded in workspace/projects/weather-app/', isError: false });\n  await delay(600);\n\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:worker:sub:444', timestamp: ts(), toolName: 'exec', argsSummary: 'npm install (Tailwind, axios)' });\n  await delay(1600);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:worker:sub:444', timestamp: ts(), toolName: 'exec', resultSummary: 'âœ“ Dependencies installed', isError: false });\n\n  dispatch({ eventKind: 'run.completed', sessionKey: 'agent:worker:sub:444', timestamp: ts(), runId: 'run-worker-1', tokenCounts: { inputTokens: 900, outputTokens: 200, totalTokens: 1100, estimatedCostUsd: 0.001 } });\n  dispatch({ eventKind: 'session.destroyed', sessionKey: 'agent:worker:sub:444', timestamp: ts() });\n  await delay(600);\n\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:maestro:cron:333', timestamp: ts(), toolName: 'exec', argsSummary: 'mcporter notion-update-page â€” check off Task 1' });\n  await delay(400);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:maestro:cron:333', timestamp: ts(), toolName: 'exec', resultSummary: 'âœ“ [x] Task 1: Scaffold complete', isError: false });\n  await delay(800);\n\n  // â”€â”€ Step 5: Worker 2 â€” API Integration â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  dispatch({ eventKind: 'subagent.spawned', sessionKey: 'agent:maestro:cron:333', timestamp: ts(), childSessionKey: 'agent:worker:sub:555', agentId: 'worker', label: 'worker-2-api' });\n  dispatch({ eventKind: 'session.created', sessionKey: 'agent:worker:sub:555', parentSessionKey: 'agent:maestro:cron:333', timestamp: ts(), model: 'github-copilot/claude-haiku-4.5', channel: 'subagent', label: 'worker-2 â€” Open-Meteo API' });\n  dispatch({ eventKind: 'run.started', sessionKey: 'agent:worker:sub:555', timestamp: ts(), runId: 'run-worker-2', taskSummary: 'Write api.ts + useWeather hook' });\n  await delay(700);\n\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:worker:sub:555', timestamp: ts(), toolName: 'write', argsSummary: 'src/api/weather.ts' });\n  await delay(900);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:worker:sub:555', timestamp: ts(), toolName: 'write', resultSummary: 'âœ“ Written: fetchForecast(lat, lon) â†’ WeatherData', isError: false });\n\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:worker:sub:555', timestamp: ts(), toolName: 'write', argsSummary: 'src/hooks/useWeather.ts' });\n  await delay(700);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:worker:sub:555', timestamp: ts(), toolName: 'write', resultSummary: 'âœ“ Written: useWeather(city) with loading/error states', isError: false });\n\n  dispatch({ eventKind: 'run.completed', sessionKey: 'agent:worker:sub:555', timestamp: ts(), runId: 'run-worker-2', tokenCounts: { inputTokens: 1400, outputTokens: 380, totalTokens: 1780, estimatedCostUsd: 0.002 } });\n  dispatch({ eventKind: 'session.destroyed', sessionKey: 'agent:worker:sub:555', timestamp: ts() });\n  await delay(500);\n\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:maestro:cron:333', timestamp: ts(), toolName: 'exec', argsSummary: 'mcporter notion-update-page â€” check off Task 2' });\n  await delay(400);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:maestro:cron:333', timestamp: ts(), toolName: 'exec', resultSummary: 'âœ“ [x] Task 2: API integration complete', isError: false });\n  await delay(800);\n\n  // â”€â”€ Step 6: Worker 3 â€” hits an error â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  dispatch({ eventKind: 'subagent.spawned', sessionKey: 'agent:maestro:cron:333', timestamp: ts(), childSessionKey: 'agent:worker:sub:666', agentId: 'worker', label: 'worker-3-ui' });\n  dispatch({ eventKind: 'session.created', sessionKey: 'agent:worker:sub:666', parentSessionKey: 'agent:maestro:cron:333', timestamp: ts(), model: 'github-copilot/claude-haiku-4.5', channel: 'subagent', label: 'worker-3 â€” UI components' });\n  dispatch({ eventKind: 'run.started', sessionKey: 'agent:worker:sub:666', timestamp: ts(), runId: 'run-worker-3', taskSummary: 'Build ForecastCard + SearchBar components' });\n  await delay(700);\n\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:worker:sub:666', timestamp: ts(), toolName: 'exec', argsSummary: 'npm run typecheck' });\n  await delay(900);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:worker:sub:666', timestamp: ts(), toolName: 'exec', resultSummary: 'âœ— Error: Type WeatherData missing \"hourly\" field (api.ts line 14)', isError: true });\n\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:worker:sub:666', timestamp: ts(), toolName: 'edit', argsSummary: 'src/api/weather.ts â€” add hourly field to type' });\n  await delay(500);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:worker:sub:666', timestamp: ts(), toolName: 'edit', resultSummary: 'âœ“ Fixed. Type extended with hourly: HourlyData[]', isError: false });\n\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:worker:sub:666', timestamp: ts(), toolName: 'write', argsSummary: 'src/components/ForecastCard.tsx' });\n  await delay(800);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:worker:sub:666', timestamp: ts(), toolName: 'write', resultSummary: 'âœ“ Written: ForecastCard with temp + icon + wind', isError: false });\n\n  dispatch({ eventKind: 'run.completed', sessionKey: 'agent:worker:sub:666', timestamp: ts(), runId: 'run-worker-3', tokenCounts: { inputTokens: 2100, outputTokens: 490, totalTokens: 2590, estimatedCostUsd: 0.003 } });\n  dispatch({ eventKind: 'session.destroyed', sessionKey: 'agent:worker:sub:666', timestamp: ts() });\n  await delay(1200);\n\n  // â”€â”€ Step 7: All done, Maestro wraps up â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  dispatch({ eventKind: 'tool.started', sessionKey: 'agent:maestro:cron:333', timestamp: ts(), toolName: 'exec', argsSummary: 'mcporter notion-update-page â€” Status: Done, Result: weather app complete' });\n  await delay(500);\n  dispatch({ eventKind: 'tool.completed', sessionKey: 'agent:maestro:cron:333', timestamp: ts(), toolName: 'exec', resultSummary: 'âœ“ Ticket marked Done', isError: false });\n\n  dispatch({ eventKind: 'run.completed', sessionKey: 'agent:maestro:cron:333', timestamp: ts(), runId: 'run-maestro-1', tokenCounts: { inputTokens: 3100, outputTokens: 420, totalTokens: 3520, estimatedCostUsd: 0.006 } });\n  dispatch({ eventKind: 'session.destroyed', sessionKey: 'agent:maestro:cron:333', timestamp: ts() });\n\n  console.log('ðŸŽ¬ Demo complete! Total simulated cost: ~$0.030');\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1],t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,css,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:h,getOwnPropertyNames:r,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),b={attribute:!0,type:String,converter:u,reflect:!1,useDefault:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class y extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=b){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),h=this.getPropertyDescriptor(t,i,s);void 0!==h&&e(this.prototype,t,h)}}static getPropertyDescriptor(t,s,i){const{get:e,set:r}=h(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get:e,set(s){const h=e?.call(this);r?.call(this,s),this.requestUpdate(t,h,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...r(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$ET(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const h=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==h?this.removeAttribute(e):this.setAttribute(e,h),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e;const r=h.fromAttribute(s,t.type);this[e]=r??this._$Ej?.get(e)??r,this._$Em=null}}requestUpdate(t,s,i,e=!1,h){if(void 0!==t){const r=this.constructor;if(!1===e&&(h=this[t]),i??=r.getPropertyOptions(t),!((i.hasChanged??f)(h,s)||i.useDefault&&i.reflect&&h===this._$Ej?.get(t)&&!this.hasAttribute(r._$Eu(t,i))))return;this.C(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,s,{useDefault:i,reflect:e,wrapped:h},r){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??s??this[t]),!0!==h||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||i||(s=void 0),this._$AL.set(t,s)),!0===e&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t){const{wrapped:t}=i,e=this[s];!0!==t||this._$AL.has(s)||void 0===e||this.C(s,void 0,i,e)}}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach(t=>t.hostUpdate?.()),this.update(s)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach(t=>t.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach(t=>this._$ET(t,this[t])),this._$EM()}updated(t){}firstUpdated(t){}}y.elementStyles=[],y.shadowRootOptions={mode:\"open\"},y[d(\"elementProperties\")]=new Map,y[d(\"finalized\")]=new Map,p?.({ReactiveElement:y}),(a.reactiveElementVersions??=[]).push(\"2.1.2\");export{y as ReactiveElement,s as adoptStyles,u as defaultConverter,t as getCompatibleStyle,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t=>t,s=t.trustedTypes,e=s?s.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,h=\"$lit$\",o=`lit$${Math.random().toFixed(9).slice(2)}$`,n=\"?\"+o,r=`<${n}>`,l=document,c=()=>l.createComment(\"\"),a=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,u=Array.isArray,d=t=>u(t)||\"function\"==typeof t?.[Symbol.iterator],f=\"[ \\t\\n\\f\\r]\",v=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,_=/-->/g,m=/>/g,p=RegExp(`>|${f}(?:([^\\\\s\"'>=/]+)(${f}*=${f}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),g=/'/g,$=/\"/g,y=/^(?:script|style|textarea|title)$/i,x=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),b=x(1),w=x(2),T=x(3),E=Symbol.for(\"lit-noChange\"),A=Symbol.for(\"lit-nothing\"),C=new WeakMap,P=l.createTreeWalker(l,129);function V(t,i){if(!u(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==e?e.createHTML(i):i}const N=(t,i)=>{const s=t.length-1,e=[];let n,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=v;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,f=0;for(;f<s.length&&(c.lastIndex=f,u=c.exec(s),null!==u);)f=c.lastIndex,c===v?\"!--\"===u[1]?c=_:void 0!==u[1]?c=m:void 0!==u[2]?(y.test(u[2])&&(n=RegExp(\"</\"+u[2],\"g\")),c=p):void 0!==u[3]&&(c=p):c===p?\">\"===u[0]?(c=n??v,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?p:'\"'===u[3]?$:g):c===$||c===g?c=p:c===_||c===m?c=v:(c=p,n=void 0);const x=c===p&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===v?s+r:d>=0?(e.push(a),s.slice(0,d)+h+s.slice(d)+o+x):s+o+(-2===d?i:x)}return[V(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),e]};class S{constructor({strings:t,_$litType$:i},e){let r;this.parts=[];let l=0,a=0;const u=t.length-1,d=this.parts,[f,v]=N(t,i);if(this.el=S.createElement(f,e),P.currentNode=this.el.content,2===i||3===i){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=P.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(h)){const i=v[a++],s=r.getAttribute(t).split(o),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:l,name:e[2],strings:s,ctor:\".\"===e[1]?I:\"?\"===e[1]?L:\"@\"===e[1]?z:H}),r.removeAttribute(t)}else t.startsWith(o)&&(d.push({type:6,index:l}),r.removeAttribute(t));if(y.test(r.tagName)){const t=r.textContent.split(o),i=t.length-1;if(i>0){r.textContent=s?s.emptyScript:\"\";for(let s=0;s<i;s++)r.append(t[s],c()),P.nextNode(),d.push({type:2,index:++l});r.append(t[i],c())}}}else if(8===r.nodeType)if(r.data===n)d.push({type:2,index:l});else{let t=-1;for(;-1!==(t=r.data.indexOf(o,t+1));)d.push({type:7,index:l}),t+=o.length-1}l++}}static createElement(t,i){const s=l.createElement(\"template\");return s.innerHTML=t,s}}function M(t,i,s=t,e){if(i===E)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=a(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=M(t,h._$AS(t,i.values),h,e)),i}class R{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??l).importNode(i,!0);P.currentNode=e;let h=P.nextNode(),o=0,n=0,r=s[0];for(;void 0!==r;){if(o===r.index){let i;2===r.type?i=new k(h,h.nextSibling,this,t):1===r.type?i=new r.ctor(h,r.name,r.strings,this,t):6===r.type&&(i=new Z(h,this,t)),this._$AV.push(i),r=s[++n]}o!==r?.index&&(h=P.nextNode(),o++)}return P.currentNode=l,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class k{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=A,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=M(this,t,i),a(t)?t===A||null==t||\"\"===t?(this._$AH!==A&&this._$AR(),this._$AH=A):t!==this._$AH&&t!==E&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):d(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==A&&a(this._$AH)?this._$AA.nextSibling.data=t:this.T(l.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=S.createElement(V(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new R(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=C.get(t.strings);return void 0===i&&C.set(t.strings,i=new S(t)),i}k(t){u(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new k(this.O(c()),this.O(c()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,s){for(this._$AP?.(!1,!0,s);t!==this._$AB;){const s=i(t).nextSibling;i(t).remove(),t=s}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class H{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=A,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=A}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=M(this,t,i,0),o=!a(t)||t!==this._$AH&&t!==E,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=M(this,e[s+n],i,n),r===E&&(r=this._$AH[n]),o||=!a(r)||r!==this._$AH[n],r===A?t=A:t!==A&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===A?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class I extends H{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===A?void 0:t}}class L extends H{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==A)}}class z extends H{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=M(this,t,i,0)??A)===E)return;const s=this._$AH,e=t===A&&s!==A||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==A&&(s===A||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class Z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){M(this,t)}}const j={M:h,P:o,A:n,C:1,L:N,R,D:d,V:M,I:k,H,N:L,U:z,B:I,F:Z},B=t.litHtmlPolyfillSupport;B?.(S,k),(t.litHtmlVersions??=[]).push(\"3.3.2\");const D=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new k(i.insertBefore(c(),t),t,void 0,s??{})}return h._$AI(t),h};export{j as _$LH,b as html,T as mathml,E as noChange,A as nothing,D as render,w as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as r}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=globalThis;class i extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return r}}i._$litElement$=!0,i[\"finalized\"]=!0,s.litElementHydrateSupport?.({LitElement:i});const o=s.litElementPolyfillSupport;o?.({LitElement:i});const n={_$AK:(t,e,r)=>{t._$AK(e,r)},_$AL:t=>t._$AL};(s.litElementVersions??=[]).push(\"4.2.2\");export{i as LitElement,n as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=t=>(e,o)=>{void 0!==o?o.addInitializer(()=>{customElements.define(t,e)}):customElements.define(t,e)};export{t as customElement};\n//# sourceMappingURL=custom-element.js.map\n","import{notEqual as t,defaultConverter as e}from\"../reactive-element.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o={attribute:!0,type:String,converter:e,reflect:!1,hasChanged:t},r=(t=o,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),\"setter\"===n&&((t=Object.create(t)).wrapped=!0),s.set(r.name,t),\"accessor\"===n){const{name:o}=r;return{set(r){const n=e.get.call(this);e.set.call(this,r),this.requestUpdate(o,n,t,!0,r)},init(e){return void 0!==e&&this.C(o,void 0,t,e),e}}}if(\"setter\"===n){const{name:o}=r;return function(r){const n=this[o];e.call(this,r),this.requestUpdate(o,n,t,!0,r)}}throw Error(\"Unsupported decorator location: \"+n)};function n(t){return(e,o)=>\"object\"==typeof o?r(t,e,o):((t,e,o)=>{const r=e.hasOwnProperty(o);return e.constructor.createProperty(o,t),r?Object.getOwnPropertyDescriptor(e,o):void 0})(t,e,o)}export{n as property,r as standardProperty};\n//# sourceMappingURL=property.js.map\n","import{property as t}from\"./property.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function r(r){return t({...r,state:!0,attribute:!1})}export{r as state};\n//# sourceMappingURL=state.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst e=(e,t,c)=>(c.configurable=!0,c.enumerable=!0,Reflect.decorate&&\"object\"!=typeof t&&Object.defineProperty(e,t,c),c);export{e as desc};\n//# sourceMappingURL=base.js.map\n","import{desc as t}from\"./base.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function e(e,r){return(n,s,i)=>{const o=t=>t.renderRoot?.querySelector(e)??null;if(r){const{get:e,set:r}=\"object\"==typeof s?n:i??(()=>{const t=Symbol();return{get(){return this[t]},set(e){this[t]=e}}})();return t(n,s,{get(){let t=e.call(this);return void 0===t&&(t=o(this),(null!==t||this.hasUpdated)&&r.call(this,t)),t}})}return t(n,s,{get(){return o(this)}})}}export{e as query};\n//# sourceMappingURL=query.js.map\n","/**\n * WsEventController â€” Lit ReactiveController that subscribes to Gateway\n * WebSocket events and triggers host re-renders on receipt.\n *\n * Usage in a Lit component:\n *\n *   private wsCtrl = new WsEventController(this, ['run.started', 'run.completed'],\n *     (event) => { this.handleEvent(event); });\n */\n\nimport type { ReactiveController, ReactiveControllerHost } from 'lit';\nimport { WsService } from './ws-service.js';\n\nexport class WsEventController implements ReactiveController {\n  private readonly host: ReactiveControllerHost;\n  private readonly eventKinds: string[];\n  private readonly handler: (event: unknown) => void;\n  private unsubscribeFns: Array<() => void> = [];\n\n  /**\n   * @param host        The Lit element that owns this controller\n   * @param eventKinds  WS event kind strings to subscribe to (e.g. ['run.started'])\n   *                    Pass ['*'] to receive all events.\n   * @param handler     Called with the parsed event payload; the controller\n   *                    automatically triggers host.requestUpdate() after each call.\n   */\n  constructor(\n    host: ReactiveControllerHost,\n    eventKinds: string[],\n    handler: (event: unknown) => void\n  ) {\n    this.host = host;\n    this.eventKinds = eventKinds;\n    this.handler = handler;\n    host.addController(this);\n  }\n\n  /** Called by Lit when the host element connects to the DOM. */\n  hostConnected(): void {\n    const ws = WsService.getInstance();\n    this.unsubscribeFns = this.eventKinds.map((kind) =>\n      ws.subscribe(kind, (event) => {\n        this.handler(event);\n        this.host.requestUpdate();\n      })\n    );\n  }\n\n  /** Called by Lit when the host element disconnects from the DOM. */\n  hostDisconnected(): void {\n    for (const unsub of this.unsubscribeFns) {\n      unsub();\n    }\n    this.unsubscribeFns = [];\n  }\n\n  /** No-op â€” controller does not need post-update work. */\n  hostUpdated(): void {}\n}\n","/**\n * Shared TypeScript interfaces for UI state.\n * These are the client-side view models derived from gateway events.\n */\n\n// â”€â”€â”€ Session Summary â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nexport type SessionStatus = 'idle' | 'running' | 'error' | 'waiting';\n\nexport interface SessionSummary {\n  sessionKey: string;\n  label?: string;\n  model: string;\n  channel: string;\n  status: SessionStatus;\n  /** ISO timestamp of session creation */\n  createdAt: string;\n  /** Seconds since session creation */\n  uptimeSeconds: number;\n  taskSummary?: string;\n  parentSessionKey?: string;\n  childSessionKeys: string[];\n  tokenAccumulator: {\n    inputTokens: number;\n    outputTokens: number;\n    totalTokens: number;\n    estimatedCostUsd?: number;\n  };\n}\n\n// â”€â”€â”€ Tool Call Record â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nexport interface ToolCallRecord {\n  id: string;\n  sessionKey: string;\n  toolName: string;\n  startedAt: string;\n  completedAt?: string;\n  durationMs?: number;\n  /** Truncated args string */\n  args: string;\n  /** Truncated result string */\n  result?: string;\n  status: 'running' | 'success' | 'error';\n}\n\n// â”€â”€â”€ Activity Event Card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nexport type ActivityCardColor =\n  | 'green'\n  | 'blue'\n  | 'amber'\n  | 'red'\n  | 'purple'\n  | 'grey';\n\nexport interface ActivityEventCard {\n  /** Unique id for virtual scroll keying */\n  id: string;\n  sessionKey: string;\n  eventKind: string;\n  timestamp: string;\n  /** Short human-readable label */\n  label: string;\n  /** Longer detail text */\n  detail: string;\n  color: ActivityCardColor;\n}\n\n// â”€â”€â”€ Resource Metrics â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nexport interface ResourceMetrics {\n  activeSessions: number;\n  tokensThisHour: number;\n  activeToolCalls: number;\n  errorCount: number;\n  lastUpdated: string;\n}\n\n// â”€â”€â”€ UI Filter â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nexport interface UiFilter {\n  /** Only show events from these sessions. Empty = show all. */\n  sessionKeys: string[];\n  /** Only show these event kinds. Empty = show all. */\n  eventKinds: string[];\n  /** Only show sessions using these models. Empty = show all. */\n  models: string[];\n  showErrors: boolean;\n  /** When true, the activity feed scroll is frozen */\n  pauseFeed: boolean;\n}\n\n// â”€â”€â”€ Default filter â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nexport function defaultUiFilter(): UiFilter {\n  return {\n    sessionKeys: [],\n    eventKinds: [],\n    models: [],\n    showErrors: true,\n    pauseFeed: false,\n  };\n}\n","/**\n * <oc-ws-status> â€” WebSocket connection status indicator.\n *\n * Renders a colored dot + label showing current Gateway WS connection state.\n * Updates reactively when status changes.\n *\n * Usage:\n *   <oc-ws-status></oc-ws-status>\n */\n\nimport { LitElement, html, css, type PropertyValues } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\nimport { WsService, type WsStatus } from '../services/ws-service.js';\n\n@customElement('oc-ws-status')\nexport class OcWsStatus extends LitElement {\n  @state() private status: WsStatus = 'disconnected';\n\n  private removeStatusListener?: () => void;\n\n  static override styles = css`\n    :host {\n      display: inline-flex;\n      align-items: center;\n      gap: var(--oc-space-xs, 4px);\n      font-family: var(--oc-font-sans, sans-serif);\n      font-size: var(--oc-font-size-sm, 0.875rem);\n      color: var(--oc-color-text-muted, #6b7280);\n      user-select: none;\n    }\n\n    .dot {\n      width: 8px;\n      height: 8px;\n      border-radius: var(--oc-radius-full, 9999px);\n      flex-shrink: 0;\n      transition: background-color var(--oc-transition-fast, 150ms ease);\n    }\n\n    /* Status-specific dot colours */\n    .dot--connected    { background: var(--oc-color-running, #22c55e); }\n    .dot--connecting   { background: var(--oc-color-waiting, #f59e0b);\n                         animation: oc-pulse 1.2s ease-in-out infinite; }\n    .dot--disconnected { background: var(--oc-color-idle, #9ca3af); }\n    .dot--error        { background: var(--oc-color-error, #ef4444); }\n\n    .label {\n      transition: color var(--oc-transition-fast, 150ms ease);\n    }\n\n    @keyframes oc-pulse {\n      0%, 100% { opacity: 1; }\n      50%       { opacity: 0.35; }\n    }\n  `;\n\n  override connectedCallback(): void {\n    super.connectedCallback();\n    const ws = WsService.getInstance();\n    this.status = ws.getStatus();\n    this.removeStatusListener = ws.onStatusChange((s) => {\n      this.status = s;\n    });\n  }\n\n  override disconnectedCallback(): void {\n    super.disconnectedCallback();\n    this.removeStatusListener?.();\n  }\n\n  private get label(): string {\n    switch (this.status) {\n      case 'connected':    return 'Connected';\n      case 'connecting':   return 'Connectingâ€¦';\n      case 'disconnected': return 'Disconnected';\n      case 'error':        return 'Connection error';\n    }\n  }\n\n  override render() {\n    return html`\n      <span\n        class=\"dot dot--${this.status}\"\n        aria-hidden=\"true\"\n      ></span>\n      <span class=\"label\">${this.label}</span>\n    `;\n  }\n\n  // Override to set ARIA attributes on the host element\n  protected override updated(_changedProps: PropertyValues): void {\n    this.setAttribute('aria-label', `Gateway: ${this.label}`);\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'oc-ws-status': OcWsStatus;\n  }\n}\n","/**\n * <oc-resource-bar> â€” top bar showing aggregate agent metrics.\n *\n * Displays:\n *  - Total active sessions count\n *  - Tokens this hour (rolling window)\n *  - Active tool calls\n *  - Error count\n *  - Connection status widget\n */\n\nimport { LitElement, html, css } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { WsEventController } from '../services/ws-reactive-controller.js';\nimport type { ResourceMetrics } from '../types/ui-state.js';\nimport type { ActivityEvent } from '../types/gateway-events.js';\nimport './oc-ws-status.js';\n\n@customElement('oc-resource-bar')\nexport class OcResourceBar extends LitElement {\n  @property({ type: Object }) metrics: ResourceMetrics = {\n    activeSessions: 0,\n    tokensThisHour: 0,\n    activeToolCalls: 0,\n    errorCount: 0,\n    lastUpdated: new Date().toISOString(),\n  };\n\n  /** Locally accumulated deltas for tool calls (for instant feedback) */\n  @state() private localActiveToolCalls = 0;\n  @state() private localErrorCount = 0;\n  @state() private localSessionCount = 0;\n  @state() private localTokensThisHour = 0;\n\n  // Reset token window each hour\n  private tokenWindowStart = Date.now();\n\n  private readonly wsCtrl = new WsEventController(\n    this,\n    ['session.created', 'session.destroyed', 'run.completed', 'run.aborted',\n     'tool.started', 'tool.completed'],\n    (event) => this.handleMetricEvent(event as ActivityEvent)\n  );\n\n  static override styles = css`\n    :host {\n      display: flex;\n      align-items: center;\n      gap: var(--oc-space-md, 16px);\n      padding: 0 var(--oc-space-md, 16px);\n      height: 48px;\n      background: var(--oc-color-bg-secondary, #f9fafb);\n      border-bottom: 1px solid var(--oc-color-border, #e5e7eb);\n      font-family: var(--oc-font-sans, sans-serif);\n      font-size: var(--oc-font-size-sm, 0.875rem);\n      flex-shrink: 0;\n    }\n\n    .brand {\n      font-weight: var(--oc-font-weight-bold, 700);\n      color: var(--oc-color-accent, #6366f1);\n      letter-spacing: -0.02em;\n      margin-right: var(--oc-space-sm, 8px);\n      white-space: nowrap;\n    }\n\n    .metrics {\n      display: flex;\n      gap: var(--oc-space-md, 16px);\n      flex: 1;\n      flex-wrap: wrap;\n    }\n\n    .metric {\n      display: flex;\n      align-items: center;\n      gap: var(--oc-space-xs, 4px);\n      color: var(--oc-color-text-muted, #6b7280);\n      white-space: nowrap;\n    }\n\n    .metric-value {\n      font-weight: var(--oc-font-weight-semibold, 600);\n      color: var(--oc-color-text-primary, #111827);\n    }\n\n    .metric-value.error {\n      color: var(--oc-color-error, #ef4444);\n    }\n\n    .metric-value.active {\n      color: var(--oc-color-running, #22c55e);\n    }\n\n    .divider {\n      width: 1px;\n      height: 20px;\n      background: var(--oc-color-border, #e5e7eb);\n      flex-shrink: 0;\n    }\n\n    oc-ws-status {\n      margin-left: auto;\n      flex-shrink: 0;\n    }\n\n    /* Responsive: hide less important metrics on narrow screens */\n    @media (max-width: 600px) {\n      .hide-sm { display: none; }\n    }\n  `;\n\n  private handleMetricEvent(event: ActivityEvent): void {\n    // Reset hourly token window if needed\n    if (Date.now() - this.tokenWindowStart > 3_600_000) {\n      this.tokenWindowStart = Date.now();\n      this.localTokensThisHour = 0;\n    }\n\n    switch (event.eventKind) {\n      case 'session.created':\n        this.localSessionCount++;\n        break;\n      case 'session.destroyed':\n        this.localSessionCount = Math.max(0, this.localSessionCount - 1);\n        break;\n      case 'tool.started':\n        this.localActiveToolCalls++;\n        break;\n      case 'tool.completed':\n        this.localActiveToolCalls = Math.max(0, this.localActiveToolCalls - 1);\n        if (!(event as { success?: boolean }).success) {\n          this.localErrorCount++;\n        }\n        break;\n      case 'run.completed': {\n        const tc = (event as { tokenCounts?: { totalTokens?: number } }).tokenCounts;\n        if (tc?.totalTokens) {\n          this.localTokensThisHour += tc.totalTokens;\n        }\n        break;\n      }\n      case 'run.aborted':\n        this.localErrorCount++;\n        break;\n    }\n  }\n\n  override render() {\n    // Prefer local real-time values over stale prop metrics\n    const sessions = this.localSessionCount || this.metrics.activeSessions;\n    const tokens = this.localTokensThisHour || this.metrics.tokensThisHour;\n    const toolCalls = this.localActiveToolCalls || this.metrics.activeToolCalls;\n    const errors = this.localErrorCount || this.metrics.errorCount;\n\n    return html`\n      <span class=\"brand\">âš¡ OpenClaw</span>\n      <div class=\"metrics\" role=\"status\" aria-label=\"Resource metrics\">\n        <span class=\"metric\">\n          <span>Sessions</span>\n          <span class=\"metric-value ${sessions > 0 ? 'active' : ''}\" aria-label=\"${sessions} active sessions\">\n            ${sessions}\n          </span>\n        </span>\n        <span class=\"divider\" aria-hidden=\"true\"></span>\n        <span class=\"metric hide-sm\">\n          <span>Tokens/hr</span>\n          <span class=\"metric-value\" aria-label=\"${tokens.toLocaleString()} tokens this hour\">\n            ${tokens >= 1000 ? `${(tokens / 1000).toFixed(1)}k` : tokens}\n          </span>\n        </span>\n        <span class=\"divider hide-sm\" aria-hidden=\"true\"></span>\n        <span class=\"metric\">\n          <span>Tools</span>\n          <span class=\"metric-value ${toolCalls > 0 ? 'active' : ''}\" aria-label=\"${toolCalls} active tool calls\">\n            ${toolCalls}\n          </span>\n        </span>\n        <span class=\"divider\" aria-hidden=\"true\"></span>\n        <span class=\"metric\">\n          <span>Errors</span>\n          <span class=\"metric-value ${errors > 0 ? 'error' : ''}\" aria-label=\"${errors} errors\">\n            ${errors}\n          </span>\n        </span>\n      </div>\n      <oc-ws-status></oc-ws-status>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'oc-resource-bar': OcResourceBar;\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{_$LH as o}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{I:t}=o,i=o=>o,n=o=>null===o||\"object\"!=typeof o&&\"function\"!=typeof o,e={HTML:1,SVG:2,MATHML:3},l=(o,t)=>void 0===t?void 0!==o?._$litType$:o?._$litType$===t,d=o=>null!=o?._$litType$?.h,c=o=>void 0!==o?._$litDirective$,f=o=>o?._$litDirective$,r=o=>void 0===o.strings,s=()=>document.createComment(\"\"),v=(o,n,e)=>{const l=o._$AA.parentNode,d=void 0===n?o._$AB:n._$AA;if(void 0===e){const i=l.insertBefore(s(),d),n=l.insertBefore(s(),d);e=new t(i,n,o,o.options)}else{const t=e._$AB.nextSibling,n=e._$AM,c=n!==o;if(c){let t;e._$AQ?.(o),e._$AM=o,void 0!==e._$AP&&(t=o._$AU)!==n._$AU&&e._$AP(t)}if(t!==d||c){let o=e._$AA;for(;o!==t;){const t=i(o).nextSibling;i(l).insertBefore(o,d),o=t}}}return e},u=(o,t,i=o)=>(o._$AI(t,i),o),m={},p=(o,t=m)=>o._$AH=t,M=o=>o._$AH,h=o=>{o._$AR(),o._$AA.remove()},j=o=>{o._$AR()};export{e as TemplateResultType,j as clearPart,M as getCommittedValue,f as getDirectiveClass,v as insertPart,d as isCompiledTemplateResult,c as isDirectiveResult,n as isPrimitive,r as isSingleExpression,l as isTemplateResult,h as removePart,u as setChildPartValue,p as setCommittedValue};\n//# sourceMappingURL=directive-helpers.js.map\n","import{noChange as e}from\"../lit-html.js\";import{directive as s,Directive as t,PartType as r}from\"../directive.js\";import{getCommittedValue as l,setChildPartValue as o,insertPart as i,removePart as n,setCommittedValue as f}from\"../directive-helpers.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst u=(e,s,t)=>{const r=new Map;for(let l=s;l<=t;l++)r.set(e[l],l);return r},c=s(class extends t{constructor(e){if(super(e),e.type!==r.CHILD)throw Error(\"repeat() can only be used in text expressions\")}dt(e,s,t){let r;void 0===t?t=s:void 0!==s&&(r=s);const l=[],o=[];let i=0;for(const s of e)l[i]=r?r(s,i):i,o[i]=t(s,i),i++;return{values:o,keys:l}}render(e,s,t){return this.dt(e,s,t).values}update(s,[t,r,c]){const d=l(s),{values:p,keys:a}=this.dt(t,r,c);if(!Array.isArray(d))return this.ut=a,p;const h=this.ut??=[],v=[];let m,y,x=0,j=d.length-1,k=0,w=p.length-1;for(;x<=j&&k<=w;)if(null===d[x])x++;else if(null===d[j])j--;else if(h[x]===a[k])v[k]=o(d[x],p[k]),x++,k++;else if(h[j]===a[w])v[w]=o(d[j],p[w]),j--,w--;else if(h[x]===a[w])v[w]=o(d[x],p[w]),i(s,v[w+1],d[x]),x++,w--;else if(h[j]===a[k])v[k]=o(d[j],p[k]),i(s,d[x],d[j]),j--,k++;else if(void 0===m&&(m=u(a,k,w),y=u(h,x,j)),m.has(h[x]))if(m.has(h[j])){const e=y.get(a[k]),t=void 0!==e?d[e]:null;if(null===t){const e=i(s,d[x]);o(e,p[k]),v[k]=e}else v[k]=o(t,p[k]),i(s,d[x],t),d[e]=null;k++}else n(d[j]),j--;else n(d[x]),x++;for(;k<=w;){const e=i(s,v[w+1]);o(e,p[k]),v[k++]=e}for(;x<=j;){const e=d[x++];null!==e&&n(e)}return this.ut=a,f(s,v),e}});export{c as repeat};\n//# sourceMappingURL=repeat.js.map\n","/**\n * Session lineage tracker â€” maintains parentâ†”child relationships\n * between OpenClaw sessions for tree rendering and navigation.\n */\n\nexport interface SessionNode {\n  sessionKey: string;\n  children: SessionNode[];\n}\n\n/**\n * In-memory map of session parentâ†’child relationships.\n * Updated by lifecycle hooks when sessions are created/destroyed.\n */\nexport class SessionLineageMap {\n  /** Map from parent sessionKey â†’ array of direct child sessionKeys */\n  private readonly childrenMap = new Map<string, string[]>();\n  /** Map from child sessionKey â†’ parent sessionKey */\n  private readonly parentMap = new Map<string, string>();\n  /** Set of all known session keys (including roots with no parent) */\n  private readonly allSessions = new Set<string>();\n\n  /**\n   * Register a session, optionally linking it to a parent.\n   *\n   * @param sessionKey       The session being registered\n   * @param parentSessionKey The spawning parent, if any\n   */\n  registerSession(sessionKey: string, parentSessionKey?: string): void {\n    this.allSessions.add(sessionKey);\n\n    if (parentSessionKey) {\n      this.parentMap.set(sessionKey, parentSessionKey);\n\n      // Ensure parent is also tracked\n      this.allSessions.add(parentSessionKey);\n\n      const siblings = this.childrenMap.get(parentSessionKey) ?? [];\n      if (!siblings.includes(sessionKey)) {\n        siblings.push(sessionKey);\n        this.childrenMap.set(parentSessionKey, siblings);\n      }\n    }\n  }\n\n  /**\n   * Remove a session and clean up its lineage entries.\n   * Children of the removed session become orphans (their parent ref is cleared).\n   */\n  removeSession(sessionKey: string): void {\n    this.allSessions.delete(sessionKey);\n\n    // Detach from parent\n    const parentKey = this.parentMap.get(sessionKey);\n    if (parentKey) {\n      const siblings = this.childrenMap.get(parentKey) ?? [];\n      this.childrenMap.set(\n        parentKey,\n        siblings.filter((k) => k !== sessionKey)\n      );\n      this.parentMap.delete(sessionKey);\n    }\n\n    // Orphan children (don't delete them â€” they may still be active)\n    const children = this.childrenMap.get(sessionKey) ?? [];\n    for (const child of children) {\n      this.parentMap.delete(child);\n    }\n    this.childrenMap.delete(sessionKey);\n  }\n\n  /**\n   * Get all direct children of a session.\n   */\n  getChildren(sessionKey: string): string[] {\n    return this.childrenMap.get(sessionKey) ?? [];\n  }\n\n  /**\n   * Get the parent of a session, or undefined if it's a root session.\n   */\n  getParent(sessionKey: string): string | undefined {\n    return this.parentMap.get(sessionKey);\n  }\n\n  /**\n   * Get all root session keys (sessions with no registered parent).\n   */\n  getRoots(): string[] {\n    return [...this.allSessions].filter((k) => !this.parentMap.has(k));\n  }\n\n  /**\n   * Build a full recursive tree starting from a given root session key.\n   */\n  getLineageTree(rootKey: string): SessionNode {\n    const children = this.getChildren(rootKey);\n    return {\n      sessionKey: rootKey,\n      children: children.map((childKey) => this.getLineageTree(childKey)),\n    };\n  }\n\n  /**\n   * Get all session keys currently tracked.\n   */\n  getAllSessionKeys(): string[] {\n    return [...this.allSessions];\n  }\n\n  /**\n   * Check if a session key is registered.\n   */\n  has(sessionKey: string): boolean {\n    return this.allSessions.has(sessionKey);\n  }\n}\n\n// Singleton instance shared across the app\nexport const lineageMap = new SessionLineageMap();\n","/**\n * <oc-agent-tree> â€” hierarchical tree view of all active sessions.\n *\n * Features:\n *  - Root sessions at top, sub-agents nested beneath (collapsible)\n *  - Color-coded status badges\n *  - Hover tooltip with session metadata\n *  - Click to open Session Detail Panel\n *  - Auto-refresh on sessions.activity events (no polling)\n *  - ARIA tree roles + full keyboard navigation (arrow keys, Enter, Escape)\n */\n\nimport { LitElement, html, css, nothing, type TemplateResult } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { repeat } from 'lit/directives/repeat.js';\nimport { WsEventController } from '../services/ws-reactive-controller.js';\nimport { SessionLineageMap } from '../services/session-lineage.js';\nimport type { SessionSummary, SessionStatus } from '../types/ui-state.js';\nimport type { ActivityEvent } from '../types/gateway-events.js';\n\ninterface TreeNode {\n  summary: SessionSummary;\n  children: TreeNode[];\n  expanded: boolean;\n}\n\n@customElement('oc-agent-tree')\nexport class OcAgentTree extends LitElement {\n  /** All sessions provided by the parent (or WS store) */\n  @property({ type: Array }) sessions: SessionSummary[] = [];\n  /** Currently selected sessionKey */\n  @property({ type: String }) selectedKey = '';\n\n  @state() private expandedKeys = new Set<string>();\n  @state() private focusedKey = '';\n\n  private readonly lineage = new SessionLineageMap();\n\n  // Subscribes to all activity events; triggers re-render on each\n  private readonly wsCtrl = new WsEventController(\n    this,\n    ['session.created', 'session.destroyed', 'run.started', 'run.completed',\n     'run.aborted', 'subagent.spawned', 'subagent.completed'],\n    (event) => this.handleActivityEvent(event as ActivityEvent)\n  );\n\n  static override styles = css`\n    :host {\n      display: block;\n      font-family: var(--oc-font-sans, sans-serif);\n      font-size: var(--oc-font-size-sm, 0.875rem);\n      color: var(--oc-color-text-primary, #111827);\n    }\n\n    .tree-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: var(--oc-space-sm, 8px) var(--oc-space-md, 16px);\n      border-bottom: 1px solid var(--oc-color-border, #e5e7eb);\n      font-weight: var(--oc-font-weight-semibold, 600);\n      font-size: var(--oc-font-size-sm, 0.875rem);\n      color: var(--oc-color-text-muted, #6b7280);\n      text-transform: uppercase;\n      letter-spacing: 0.05em;\n    }\n\n    .session-count {\n      background: var(--oc-color-bg-tertiary, #f3f4f6);\n      border-radius: var(--oc-radius-full, 9999px);\n      padding: 2px var(--oc-space-xs, 4px);\n      font-size: var(--oc-font-size-xs, 0.75rem);\n    }\n\n    ul[role=\"tree\"],\n    ul[role=\"group\"] {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    ul[role=\"group\"] {\n      padding-left: var(--oc-space-lg, 24px);\n    }\n\n    .tree-item {\n      position: relative;\n    }\n\n    .tree-item-row {\n      display: flex;\n      align-items: center;\n      gap: var(--oc-space-xs, 4px);\n      padding: var(--oc-space-xs, 4px) var(--oc-space-sm, 8px);\n      border-radius: var(--oc-radius-sm, 4px);\n      cursor: pointer;\n      outline: none;\n      transition: background-color var(--oc-transition-fast, 150ms ease);\n    }\n\n    .tree-item-row:hover {\n      background: var(--oc-color-bg-secondary, #f9fafb);\n    }\n\n    .tree-item-row:focus-visible {\n      box-shadow: 0 0 0 2px var(--oc-color-accent, #6366f1);\n    }\n\n    .tree-item-row.selected {\n      background: var(--oc-color-accent-light, #eef2ff);\n      color: var(--oc-color-accent, #6366f1);\n    }\n\n    .expand-toggle {\n      width: 16px;\n      height: 16px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-shrink: 0;\n      font-size: 10px;\n      color: var(--oc-color-text-muted, #6b7280);\n      transition: transform var(--oc-transition-fast, 150ms ease);\n    }\n\n    .expand-toggle.expanded {\n      transform: rotate(90deg);\n    }\n\n    .expand-placeholder {\n      width: 16px;\n      flex-shrink: 0;\n    }\n\n    /* Status badge */\n    .status-badge {\n      width: 8px;\n      height: 8px;\n      border-radius: var(--oc-radius-full, 9999px);\n      flex-shrink: 0;\n    }\n\n    .status-idle    { background: var(--oc-color-idle,    #9ca3af); }\n    .status-running {\n      background: var(--oc-color-running, #22c55e);\n      animation: oc-pulse 1.5s ease-in-out infinite;\n    }\n    .status-error   { background: var(--oc-color-error,   #ef4444); }\n    .status-waiting { background: var(--oc-color-waiting, #f59e0b); }\n\n    .session-label {\n      flex: 1;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .session-model {\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      color: var(--oc-color-text-muted, #6b7280);\n      flex-shrink: 0;\n    }\n\n    /* Tooltip */\n    .tooltip-wrapper {\n      position: relative;\n    }\n\n    .tooltip-wrapper:hover .tooltip {\n      opacity: 1;\n      pointer-events: auto;\n      transform: translateY(0);\n    }\n\n    .tooltip {\n      position: absolute;\n      left: 100%;\n      top: 0;\n      margin-left: var(--oc-space-xs, 4px);\n      background: var(--oc-color-bg-primary, #fff);\n      border: 1px solid var(--oc-color-border, #e5e7eb);\n      border-radius: var(--oc-radius-md, 8px);\n      padding: var(--oc-space-sm, 8px);\n      min-width: 200px;\n      z-index: var(--oc-z-tooltip, 300);\n      opacity: 0;\n      pointer-events: none;\n      transform: translateY(-4px);\n      transition: opacity var(--oc-transition-fast, 150ms ease),\n                  transform var(--oc-transition-fast, 150ms ease);\n      box-shadow: var(--oc-shadow-md);\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      color: var(--oc-color-text-secondary, #374151);\n      line-height: 1.6;\n      white-space: normal;\n    }\n\n    .tooltip dt {\n      font-weight: var(--oc-font-weight-semibold, 600);\n      color: var(--oc-color-text-muted, #6b7280);\n      margin-top: var(--oc-space-xs, 4px);\n    }\n\n    .tooltip dd {\n      margin: 0;\n    }\n\n    .empty-state {\n      padding: var(--oc-space-xl, 40px) var(--oc-space-md, 16px);\n      text-align: center;\n      color: var(--oc-color-text-muted, #6b7280);\n      font-size: var(--oc-font-size-sm, 0.875rem);\n    }\n\n    @keyframes oc-pulse {\n      0%, 100% { opacity: 1; }\n      50%       { opacity: 0.4; }\n    }\n  `;\n\n  private handleActivityEvent(event: ActivityEvent): void {\n    // Update lineage map based on session lifecycle events\n    if (event.eventKind === 'session.created') {\n      this.lineage.registerSession(event.sessionKey, event.parentSessionKey);\n    } else if (event.eventKind === 'session.destroyed') {\n      this.lineage.removeSession(event.sessionKey);\n    } else if (event.eventKind === 'subagent.spawned') {\n      this.lineage.registerSession(event.childSessionKey, event.parentSessionKey);\n    }\n  }\n\n  /** Build tree nodes from flat session list using lineage map */\n  private buildTree(): TreeNode[] {\n    const sessionMap = new Map(this.sessions.map((s) => [s.sessionKey, s]));\n\n    // Sync lineage map with current sessions\n    for (const session of this.sessions) {\n      this.lineage.registerSession(session.sessionKey, session.parentSessionKey);\n    }\n\n    const roots = this.sessions.filter((s) => !s.parentSessionKey);\n\n    const buildNode = (summary: SessionSummary): TreeNode => {\n      const children = (summary.childSessionKeys ?? [])\n        .map((k) => sessionMap.get(k))\n        .filter((s): s is SessionSummary => s !== undefined)\n        .map(buildNode);\n\n      return {\n        summary,\n        children,\n        expanded: this.expandedKeys.has(summary.sessionKey),\n      };\n    };\n\n    return roots.map(buildNode);\n  }\n\n  private toggleExpand(sessionKey: string, e: Event): void {\n    e.stopPropagation();\n    const next = new Set(this.expandedKeys);\n    if (next.has(sessionKey)) {\n      next.delete(sessionKey);\n    } else {\n      next.add(sessionKey);\n    }\n    this.expandedKeys = next;\n  }\n\n  private selectSession(sessionKey: string): void {\n    this.focusedKey = sessionKey;\n    this.dispatchEvent(\n      new CustomEvent('session-selected', {\n        detail: { sessionKey },\n        bubbles: true,\n        composed: true,\n      })\n    );\n  }\n\n  private handleKeyDown(e: KeyboardEvent, node: TreeNode, siblings: TreeNode[], idx: number): void {\n    switch (e.key) {\n      case 'Enter':\n      case ' ':\n        e.preventDefault();\n        this.selectSession(node.summary.sessionKey);\n        break;\n      case 'ArrowRight':\n        e.preventDefault();\n        if (node.children.length > 0 && !node.expanded) {\n          this.expandedKeys = new Set([...this.expandedKeys, node.summary.sessionKey]);\n        }\n        break;\n      case 'ArrowLeft':\n        e.preventDefault();\n        if (node.expanded) {\n          const next = new Set(this.expandedKeys);\n          next.delete(node.summary.sessionKey);\n          this.expandedKeys = next;\n        }\n        break;\n      case 'ArrowDown':\n        e.preventDefault();\n        if (idx < siblings.length - 1) {\n          this.focusedKey = siblings[idx + 1].summary.sessionKey;\n        }\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        if (idx > 0) {\n          this.focusedKey = siblings[idx - 1].summary.sessionKey;\n        }\n        break;\n    }\n  }\n\n  private renderTooltip(s: SessionSummary): TemplateResult {\n    const uptime = s.uptimeSeconds < 60\n      ? `${s.uptimeSeconds}s`\n      : `${Math.floor(s.uptimeSeconds / 60)}m ${s.uptimeSeconds % 60}s`;\n\n    return html`\n      <div class=\"tooltip\" role=\"tooltip\">\n        <dl>\n          <dt>Session</dt><dd>${s.sessionKey}</dd>\n          <dt>Model</dt><dd>${s.model}</dd>\n          <dt>Channel</dt><dd>${s.channel}</dd>\n          <dt>Uptime</dt><dd>${uptime}</dd>\n          ${s.taskSummary ? html`<dt>Task</dt><dd>${s.taskSummary}</dd>` : nothing}\n          <dt>Tokens</dt><dd>${s.tokenAccumulator.totalTokens.toLocaleString()}</dd>\n        </dl>\n      </div>\n    `;\n  }\n\n  private renderNodes(nodes: TreeNode[], depth = 0): TemplateResult {\n    return html`\n      <ul role=\"${depth === 0 ? 'tree' : 'group'}\" aria-label=\"${depth === 0 ? 'Active agents' : nothing}\">\n        ${repeat(\n          nodes,\n          (n) => n.summary.sessionKey,\n          (node, idx) => html`\n            <li\n              role=\"treeitem\"\n              aria-expanded=\"${node.children.length > 0 ? String(node.expanded) : nothing}\"\n              aria-selected=\"${node.summary.sessionKey === this.selectedKey}\"\n              class=\"tree-item\"\n            >\n              <div\n                class=\"tree-item-row tooltip-wrapper ${node.summary.sessionKey === this.selectedKey ? 'selected' : ''}\"\n                tabindex=\"${node.summary.sessionKey === this.focusedKey || (this.focusedKey === '' && idx === 0 && depth === 0) ? '0' : '-1'}\"\n                @click=\"${() => this.selectSession(node.summary.sessionKey)}\"\n                @keydown=\"${(e: KeyboardEvent) => this.handleKeyDown(e, node, nodes, idx)}\"\n              >\n                ${node.children.length > 0\n                  ? html`\n                      <span\n                        class=\"expand-toggle ${node.expanded ? 'expanded' : ''}\"\n                        @click=\"${(e: Event) => this.toggleExpand(node.summary.sessionKey, e)}\"\n                        aria-label=\"${node.expanded ? 'Collapse' : 'Expand'}\"\n                      >â–¶</span>\n                    `\n                  : html`<span class=\"expand-placeholder\"></span>`\n                }\n                <span class=\"status-badge status-${node.summary.status}\" aria-label=\"Status: ${node.summary.status}\"></span>\n                <span class=\"session-label\">${node.summary.label ?? node.summary.sessionKey}</span>\n                <span class=\"session-model\">${node.summary.model.split('/').pop()}</span>\n                ${this.renderTooltip(node.summary)}\n              </div>\n              ${node.expanded && node.children.length > 0\n                ? this.renderNodes(node.children, depth + 1)\n                : nothing\n              }\n            </li>\n          `\n        )}\n      </ul>\n    `;\n  }\n\n  override render() {\n    const tree = this.buildTree();\n    const activeCount = this.sessions.filter((s) => s.status === 'running').length;\n\n    return html`\n      <div class=\"tree-header\">\n        <span>Agents</span>\n        <span class=\"session-count\">${this.sessions.length} sessions Â· ${activeCount} active</span>\n      </div>\n      ${tree.length === 0\n        ? html`<div class=\"empty-state\">No active sessions</div>`\n        : this.renderNodes(tree)\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'oc-agent-tree': OcAgentTree;\n  }\n}\n","/**\n * Throttle and debounce utilities.\n * All functions are properly typed with TypeScript generics.\n */\n\n/**\n * Debounce a function â€” delays invoking `fn` until after `ms` milliseconds\n * have elapsed since the last call.\n *\n * @param fn  Function to debounce\n * @param ms  Quiet-period in milliseconds\n * @returns   Debounced version of `fn`\n */\nexport function debounce<T extends (...args: Parameters<T>) => ReturnType<T>>(\n  fn: T,\n  ms: number\n): (...args: Parameters<T>) => void {\n  let timer: ReturnType<typeof setTimeout> | undefined;\n  return (...args: Parameters<T>): void => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      fn(...args);\n    }, ms);\n  };\n}\n\n/**\n * Throttle a function â€” invokes `fn` at most once per `ms` milliseconds.\n * Trailing calls during the quiet window are dropped.\n *\n * @param fn  Function to throttle\n * @param ms  Minimum interval in milliseconds\n * @returns   Throttled version of `fn`\n */\nexport function throttle<T extends (...args: Parameters<T>) => ReturnType<T>>(\n  fn: T,\n  ms: number\n): (...args: Parameters<T>) => void {\n  let lastCall = 0;\n  return (...args: Parameters<T>): void => {\n    const now = Date.now();\n    if (now - lastCall >= ms) {\n      lastCall = now;\n      fn(...args);\n    }\n  };\n}\n\n/**\n * Batch-debounce â€” accumulates individual items into a buffer and calls `fn`\n * with the full batch after `ms` milliseconds of inactivity.\n * Useful for batching high-frequency WS events before a render cycle.\n *\n * @param fn  Function to call with the accumulated batch\n * @param ms  Idle period before flush (default: 200ms)\n * @returns   Function that accepts individual items\n */\nexport function batchDebounce<T>(\n  fn: (items: T[]) => void,\n  ms = 200\n): (item: T) => void {\n  let buffer: T[] = [];\n  let timer: ReturnType<typeof setTimeout> | undefined;\n\n  return (item: T): void => {\n    buffer.push(item);\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      const batch = buffer;\n      buffer = [];\n      fn(batch);\n    }, ms);\n  };\n}\n\n/**\n * Rate-limited queue â€” processes items at most `maxPerSecond` items/second.\n * Excess items queue up and are processed in order.\n *\n * @param fn           Handler for each item\n * @param maxPerSecond Max items per second\n * @returns            Enqueue function\n */\nexport function rateLimit<T>(\n  fn: (item: T) => void,\n  maxPerSecond: number\n): (item: T) => void {\n  const queue: T[] = [];\n  const intervalMs = 1000 / maxPerSecond;\n  let processing = false;\n\n  function processNext(): void {\n    if (queue.length === 0) {\n      processing = false;\n      return;\n    }\n    const item = queue.shift()!;\n    fn(item);\n    setTimeout(processNext, intervalMs);\n  }\n\n  return (item: T): void => {\n    queue.push(item);\n    if (!processing) {\n      processing = true;\n      processNext();\n    }\n  };\n}\n","/**\n * <oc-activity-feed> â€” real-time scrolling feed of all agent events.\n *\n * Features:\n *  - Real-time event cards: tool calls, completions, errors, spawns\n *  - Filters: by session, event type, model\n *  - Virtual scrolling (windowed rendering for 100+ events)\n *  - Timestamp + relative time display\n *  - Color-coded events with smooth entry transitions\n *  - \"Pause feed\" toggle to freeze scrolling for inspection\n */\n\nimport { LitElement, html, css, nothing, type TemplateResult } from 'lit';\nimport { customElement, property, state, query } from 'lit/decorators.js';\nimport { repeat } from 'lit/directives/repeat.js';\nimport { WsEventController } from '../services/ws-reactive-controller.js';\nimport { batchDebounce } from '../utils/throttle.js';\nimport type { ActivityEventCard, UiFilter } from '../types/ui-state.js';\nimport type { ActivityEvent } from '../types/gateway-events.js';\n\nconst MAX_EVENTS = 500;\nconst VIRTUAL_WINDOW = 80;   // Render at most 80 items at once\nconst BATCH_MS = 200;        // Batch incoming events at 200ms\n\nlet cardCounter = 0;\n\nfunction eventToCard(event: ActivityEvent): ActivityEventCard {\n  cardCounter++;\n  const color = getEventColor(event.eventKind);\n  const label = getEventLabel(event);\n  const detail = getEventDetail(event);\n\n  return {\n    id: `card-${cardCounter}-${Date.now()}`,\n    sessionKey: event.sessionKey,\n    eventKind: event.eventKind,\n    timestamp: event.timestamp,\n    label,\n    detail,\n    color,\n  };\n}\n\nfunction getEventColor(kind: string): ActivityEventCard['color'] {\n  if (kind.startsWith('tool.'))       return 'blue';\n  if (kind.startsWith('run.'))        return 'green';\n  if (kind.startsWith('session.'))    return 'purple';\n  if (kind.startsWith('subagent.'))   return 'amber';\n  if (kind.includes('error') || kind.includes('abort')) return 'red';\n  return 'grey';\n}\n\nfunction getEventLabel(event: ActivityEvent): string {\n  switch (event.eventKind) {\n    case 'session.created':   return 'ðŸŸ¢ Session created';\n    case 'session.destroyed': return 'âš« Session ended';\n    case 'run.started':       return 'â–¶ Run started';\n    case 'run.completed':     return 'âœ… Run completed';\n    case 'run.aborted':       return 'ðŸ›‘ Run aborted';\n    case 'tool.started':      return `ðŸ”§ ${(event as { toolName?: string }).toolName ?? 'Tool'} started`;\n    case 'tool.completed':    return `âœ” ${(event as { toolName?: string }).toolName ?? 'Tool'} done`;\n    case 'subagent.spawned':  return 'ðŸ¤– Sub-agent spawned';\n    case 'subagent.completed':return 'ðŸ Sub-agent completed';\n    default:                  return (event as { eventKind: string }).eventKind;\n  }\n}\n\nfunction getEventDetail(event: ActivityEvent): string {\n  switch (event.eventKind) {\n    case 'run.started':\n      return `Model: ${(event as { model?: string }).model ?? '?'}${(event as { taskSummary?: string }).taskSummary ? ` â€” ${(event as { taskSummary?: string }).taskSummary}` : ''}`;\n    case 'run.completed': {\n      const tc = (event as { tokenCounts?: { totalTokens?: number } }).tokenCounts;\n      return tc ? `${tc.totalTokens?.toLocaleString() ?? 0} tokens Â· ${(event as { durationMs?: number }).durationMs ?? 0}ms` : '';\n    }\n    case 'run.aborted':\n      return (event as { reason?: string }).reason ?? '';\n    case 'tool.started':\n      return (event as { argsSummary?: string }).argsSummary ?? '';\n    case 'tool.completed':\n      return `${(event as { durationMs?: number }).durationMs ?? 0}ms â€” ${(event as { resultSummary?: string }).resultSummary ?? ''}`;\n    case 'subagent.spawned':\n      return `Child: ${(event as { childSessionKey?: string }).childSessionKey ?? '?'}${(event as { label?: string }).label ? ` (${(event as { label?: string }).label})` : ''}`;\n    default:\n      return '';\n  }\n}\n\nfunction formatRelativeTime(isoTimestamp: string): string {\n  const diff = Date.now() - new Date(isoTimestamp).getTime();\n  if (diff < 1000)   return 'just now';\n  if (diff < 60000)  return `${Math.floor(diff / 1000)}s ago`;\n  if (diff < 3600000) return `${Math.floor(diff / 60000)}m ago`;\n  return `${Math.floor(diff / 3600000)}h ago`;\n}\n\n@customElement('oc-activity-feed')\nexport class OcActivityFeed extends LitElement {\n  @property({ type: Object }) filter: UiFilter = {\n    sessionKeys: [],\n    eventKinds: [],\n    models: [],\n    showErrors: true,\n    pauseFeed: false,\n  };\n\n  @state() private allCards: ActivityEventCard[] = [];\n  @state() private scrollOffset = 0;\n\n  @query('.feed-list') private feedListEl?: HTMLElement;\n\n  private readonly batchAddCards = batchDebounce((cards: ActivityEventCard[]) => {\n    if (this.filter.pauseFeed) return;\n\n    const combined = [...this.allCards, ...cards];\n    // Cap at MAX_EVENTS (drop oldest)\n    this.allCards = combined.length > MAX_EVENTS\n      ? combined.slice(combined.length - MAX_EVENTS)\n      : combined;\n\n    this.scrollToBottom();\n  }, BATCH_MS);\n\n  // Subscribe to all activity event kinds\n  private readonly wsCtrl = new WsEventController(\n    this,\n    ['*'],\n    (event) => {\n      const card = eventToCard(event as ActivityEvent);\n      if (this.passesFilter(card)) {\n        this.batchAddCards(card);\n      }\n    }\n  );\n\n  static override styles = css`\n    :host {\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      font-family: var(--oc-font-sans, sans-serif);\n      font-size: var(--oc-font-size-sm, 0.875rem);\n      background: var(--oc-color-bg-primary, #fff);\n    }\n\n    .feed-toolbar {\n      display: flex;\n      align-items: center;\n      gap: var(--oc-space-sm, 8px);\n      padding: var(--oc-space-sm, 8px) var(--oc-space-md, 16px);\n      border-bottom: 1px solid var(--oc-color-border, #e5e7eb);\n      flex-wrap: wrap;\n    }\n\n    .feed-toolbar-title {\n      font-weight: var(--oc-font-weight-semibold, 600);\n      color: var(--oc-color-text-muted, #6b7280);\n      text-transform: uppercase;\n      letter-spacing: 0.05em;\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      flex: 1;\n    }\n\n    .filter-chip {\n      display: inline-flex;\n      align-items: center;\n      gap: 4px;\n      padding: 2px var(--oc-space-sm, 8px);\n      border-radius: var(--oc-radius-full, 9999px);\n      border: 1px solid var(--oc-color-border, #e5e7eb);\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      cursor: pointer;\n      background: var(--oc-color-bg-secondary, #f9fafb);\n      color: var(--oc-color-text-secondary, #374151);\n      transition: background var(--oc-transition-fast, 150ms ease);\n    }\n\n    .filter-chip:hover,\n    .filter-chip.active {\n      background: var(--oc-color-accent-light, #eef2ff);\n      border-color: var(--oc-color-accent, #6366f1);\n      color: var(--oc-color-accent, #6366f1);\n    }\n\n    .pause-btn {\n      padding: 2px var(--oc-space-sm, 8px);\n      border-radius: var(--oc-radius-sm, 4px);\n      border: 1px solid var(--oc-color-border, #e5e7eb);\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      cursor: pointer;\n      background: var(--oc-color-bg-tertiary, #f3f4f6);\n      color: var(--oc-color-text-secondary, #374151);\n      transition: background var(--oc-transition-fast, 150ms ease);\n    }\n\n    .pause-btn.paused {\n      background: var(--oc-color-waiting, #f59e0b);\n      color: #fff;\n      border-color: transparent;\n    }\n\n    .clear-btn {\n      padding: 2px var(--oc-space-sm, 8px);\n      border-radius: var(--oc-radius-sm, 4px);\n      border: 1px solid var(--oc-color-border, #e5e7eb);\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      cursor: pointer;\n      background: transparent;\n      color: var(--oc-color-text-muted, #6b7280);\n    }\n\n    .feed-list {\n      flex: 1;\n      overflow-y: auto;\n      overflow-x: hidden;\n      padding: var(--oc-space-xs, 4px) 0;\n      scroll-behavior: smooth;\n    }\n\n    .feed-empty {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 100%;\n      color: var(--oc-color-text-muted, #6b7280);\n      font-size: var(--oc-font-size-sm, 0.875rem);\n    }\n\n    .event-card {\n      display: grid;\n      grid-template-columns: 4px 1fr;\n      gap: 0 var(--oc-space-sm, 8px);\n      padding: var(--oc-space-xs, 4px) var(--oc-space-md, 16px) var(--oc-space-xs, 4px) var(--oc-space-sm, 8px);\n      border-radius: var(--oc-radius-sm, 4px);\n      margin: 2px var(--oc-space-sm, 8px);\n      animation: oc-slide-in var(--oc-transition-normal, 300ms) ease forwards;\n      transition: background var(--oc-transition-fast, 150ms ease);\n    }\n\n    .event-card:hover {\n      background: var(--oc-color-bg-secondary, #f9fafb);\n    }\n\n    .event-stripe {\n      border-radius: 2px;\n      grid-row: 1 / 3;\n      align-self: stretch;\n    }\n\n    .stripe-green  { background: var(--oc-color-running, #22c55e); }\n    .stripe-blue   { background: var(--oc-color-event-tool, #3b82f6); }\n    .stripe-amber  { background: var(--oc-color-waiting, #f59e0b); }\n    .stripe-red    { background: var(--oc-color-error, #ef4444); }\n    .stripe-purple { background: var(--oc-color-event-chat, #8b5cf6); }\n    .stripe-grey   { background: var(--oc-color-idle, #9ca3af); }\n\n    .event-header {\n      display: flex;\n      align-items: baseline;\n      gap: var(--oc-space-xs, 4px);\n    }\n\n    .event-label {\n      font-weight: var(--oc-font-weight-medium, 500);\n      color: var(--oc-color-text-primary, #111827);\n      flex: 1;\n    }\n\n    .event-session {\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      color: var(--oc-color-text-muted, #6b7280);\n      font-family: var(--oc-font-mono, monospace);\n    }\n\n    .event-time {\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      color: var(--oc-color-text-muted, #6b7280);\n      flex-shrink: 0;\n    }\n\n    .event-detail {\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      color: var(--oc-color-text-muted, #6b7280);\n      font-family: var(--oc-font-mono, monospace);\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    @keyframes oc-slide-in {\n      from { opacity: 0; transform: translateX(8px); }\n      to   { opacity: 1; transform: translateX(0); }\n    }\n  `;\n\n  private passesFilter(card: ActivityEventCard): boolean {\n    const f = this.filter;\n    if (f.sessionKeys.length > 0 && !f.sessionKeys.includes(card.sessionKey)) return false;\n    if (f.eventKinds.length > 0 && !f.eventKinds.includes(card.eventKind)) return false;\n    if (!f.showErrors && card.color === 'red') return false;\n    return true;\n  }\n\n  private get visibleCards(): ActivityEventCard[] {\n    const filtered = this.allCards.filter((c) => this.passesFilter(c));\n    // Virtual window: show only last VIRTUAL_WINDOW items for performance\n    return filtered.slice(Math.max(0, filtered.length - VIRTUAL_WINDOW));\n  }\n\n  private scrollToBottom(): void {\n    if (this.filter.pauseFeed) return;\n    this.updateComplete.then(() => {\n      const el = this.feedListEl;\n      if (el) el.scrollTop = el.scrollHeight;\n    });\n  }\n\n  private togglePause(): void {\n    this.dispatchEvent(new CustomEvent('filter-change', {\n      detail: { ...this.filter, pauseFeed: !this.filter.pauseFeed },\n      bubbles: true,\n      composed: true,\n    }));\n  }\n\n  private clearFeed(): void {\n    this.allCards = [];\n  }\n\n  private renderCard(card: ActivityEventCard): TemplateResult {\n    return html`\n      <div class=\"event-card\" role=\"listitem\" aria-label=\"${card.label}\">\n        <span class=\"event-stripe stripe-${card.color}\"></span>\n        <div class=\"event-header\">\n          <span class=\"event-label\">${card.label}</span>\n          <span class=\"event-session\">${card.sessionKey.slice(0, 8)}</span>\n          <span class=\"event-time\">${formatRelativeTime(card.timestamp)}</span>\n        </div>\n        ${card.detail ? html`<div class=\"event-detail\">${card.detail}</div>` : nothing}\n      </div>\n    `;\n  }\n\n  override render() {\n    const visible = this.visibleCards;\n\n    return html`\n      <div class=\"feed-toolbar\">\n        <span class=\"feed-toolbar-title\">Activity Feed</span>\n        <button\n          class=\"pause-btn ${this.filter.pauseFeed ? 'paused' : ''}\"\n          @click=\"${this.togglePause}\"\n          aria-pressed=\"${this.filter.pauseFeed}\"\n          title=\"${this.filter.pauseFeed ? 'Resume feed' : 'Pause feed'}\"\n        >\n          ${this.filter.pauseFeed ? 'â–¶ Resume' : 'â¸ Pause'}\n        </button>\n        <button class=\"clear-btn\" @click=\"${this.clearFeed}\" title=\"Clear feed\">\n          Clear\n        </button>\n      </div>\n      <div\n        class=\"feed-list\"\n        role=\"list\"\n        aria-label=\"Agent activity feed\"\n        aria-live=\"polite\"\n        aria-atomic=\"false\"\n      >\n        ${visible.length === 0\n          ? html`<div class=\"feed-empty\">No events yet â€” waiting for activityâ€¦</div>`\n          : repeat(visible, (c) => c.id, (c) => this.renderCard(c))\n        }\n      </div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'oc-activity-feed': OcActivityFeed;\n  }\n}\n","/**\n * <oc-session-detail> â€” slide-out detail panel for a single session.\n *\n * Features:\n *  - Live streaming output (reuses chat text display)\n *  - Tool call log with expandable args/results\n *  - Token/cost accumulator (per-session)\n *  - Action buttons: Abort, Steer, Inject\n *  - Session lineage breadcrumb (parent â†’ current â†’ children)\n *  - Confirmation dialog on destructive actions (Abort)\n */\n\nimport { LitElement, html, css, nothing, type TemplateResult } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { WsEventController } from '../services/ws-reactive-controller.js';\nimport { WsService } from '../services/ws-service.js';\nimport type { SessionSummary, ToolCallRecord } from '../types/ui-state.js';\nimport type { ActivityEvent } from '../types/gateway-events.js';\n\n@customElement('oc-session-detail')\nexport class OcSessionDetail extends LitElement {\n  @property({ type: Object }) session: SessionSummary | null = null;\n  @property({ type: Array }) toolCalls: ToolCallRecord[] = [];\n  @property({ type: String }) streamingOutput = '';\n\n  @state() private expandedToolCallIds = new Set<string>();\n  @state() private showAbortConfirm = false;\n  @state() private steerText = '';\n  @state() private injectText = '';\n  @state() private showSteerInput = false;\n  @state() private showInjectInput = false;\n\n  private readonly wsCtrl = new WsEventController(\n    this,\n    ['run.started', 'run.completed', 'run.aborted', 'tool.started', 'tool.completed'],\n    (event) => this.handleEvent(event as ActivityEvent)\n  );\n\n  static override styles = css`\n    :host {\n      display: block;\n      font-family: var(--oc-font-sans, sans-serif);\n      font-size: var(--oc-font-size-sm, 0.875rem);\n      color: var(--oc-color-text-primary, #111827);\n      height: 100%;\n      overflow-y: auto;\n      background: var(--oc-color-bg-primary, #fff);\n    }\n\n    .panel-header {\n      position: sticky;\n      top: 0;\n      background: var(--oc-color-bg-primary, #fff);\n      border-bottom: 1px solid var(--oc-color-border, #e5e7eb);\n      padding: var(--oc-space-md, 16px);\n      z-index: 10;\n    }\n\n    .panel-title {\n      font-weight: var(--oc-font-weight-semibold, 600);\n      font-size: var(--oc-font-size-md, 1rem);\n      margin-bottom: var(--oc-space-xs, 4px);\n      display: flex;\n      align-items: center;\n      gap: var(--oc-space-sm, 8px);\n    }\n\n    .status-badge {\n      display: inline-block;\n      width: 8px;\n      height: 8px;\n      border-radius: 50%;\n      flex-shrink: 0;\n    }\n\n    .status-idle    { background: var(--oc-color-idle,    #9ca3af); }\n    .status-running { background: var(--oc-color-running, #22c55e);\n                      animation: oc-pulse 1.5s infinite; }\n    .status-error   { background: var(--oc-color-error,   #ef4444); }\n    .status-waiting { background: var(--oc-color-waiting, #f59e0b); }\n\n    .breadcrumb {\n      display: flex;\n      align-items: center;\n      gap: var(--oc-space-xs, 4px);\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      color: var(--oc-color-text-muted, #6b7280);\n      flex-wrap: wrap;\n      margin-top: var(--oc-space-xs, 4px);\n    }\n\n    .breadcrumb-sep { opacity: 0.5; }\n\n    .breadcrumb-item {\n      cursor: pointer;\n      color: var(--oc-color-accent, #6366f1);\n      text-decoration: underline;\n    }\n\n    .breadcrumb-item.current {\n      cursor: default;\n      color: var(--oc-color-text-primary, #111827);\n      text-decoration: none;\n      font-weight: var(--oc-font-weight-medium, 500);\n    }\n\n    /* â”€â”€â”€ Meta grid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n\n    .meta-grid {\n      display: grid;\n      grid-template-columns: auto 1fr;\n      gap: var(--oc-space-xs, 4px) var(--oc-space-md, 16px);\n      padding: var(--oc-space-md, 16px);\n      border-bottom: 1px solid var(--oc-color-border, #e5e7eb);\n      font-size: var(--oc-font-size-xs, 0.75rem);\n    }\n\n    .meta-key {\n      color: var(--oc-color-text-muted, #6b7280);\n      font-weight: var(--oc-font-weight-medium, 500);\n    }\n\n    .meta-val {\n      color: var(--oc-color-text-primary, #111827);\n      font-family: var(--oc-font-mono, monospace);\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    /* â”€â”€â”€ Token bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n\n    .token-bar {\n      padding: var(--oc-space-sm, 8px) var(--oc-space-md, 16px);\n      border-bottom: 1px solid var(--oc-color-border, #e5e7eb);\n      display: flex;\n      gap: var(--oc-space-md, 16px);\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      color: var(--oc-color-text-muted, #6b7280);\n    }\n\n    .token-stat strong {\n      color: var(--oc-color-text-primary, #111827);\n      font-weight: var(--oc-font-weight-semibold, 600);\n    }\n\n    /* â”€â”€â”€ Streaming output â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n\n    .section {\n      padding: var(--oc-space-md, 16px);\n      border-bottom: 1px solid var(--oc-color-border, #e5e7eb);\n    }\n\n    .section-title {\n      font-weight: var(--oc-font-weight-semibold, 600);\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      color: var(--oc-color-text-muted, #6b7280);\n      text-transform: uppercase;\n      letter-spacing: 0.05em;\n      margin-bottom: var(--oc-space-sm, 8px);\n    }\n\n    .stream-output {\n      background: var(--oc-color-bg-secondary, #f9fafb);\n      border-radius: var(--oc-radius-md, 8px);\n      padding: var(--oc-space-sm, 8px);\n      font-family: var(--oc-font-mono, monospace);\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      max-height: 200px;\n      overflow-y: auto;\n      white-space: pre-wrap;\n      word-break: break-all;\n      color: var(--oc-color-text-secondary, #374151);\n    }\n\n    /* â”€â”€â”€ Tool calls â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n\n    .tool-call-item {\n      border: 1px solid var(--oc-color-border, #e5e7eb);\n      border-radius: var(--oc-radius-sm, 4px);\n      margin-bottom: var(--oc-space-xs, 4px);\n      overflow: hidden;\n    }\n\n    .tool-call-header {\n      display: flex;\n      align-items: center;\n      gap: var(--oc-space-xs, 4px);\n      padding: var(--oc-space-xs, 4px) var(--oc-space-sm, 8px);\n      cursor: pointer;\n      background: var(--oc-color-bg-secondary, #f9fafb);\n      transition: background var(--oc-transition-fast, 150ms);\n    }\n\n    .tool-call-header:hover {\n      background: var(--oc-color-bg-tertiary, #f3f4f6);\n    }\n\n    .tool-name {\n      font-family: var(--oc-font-mono, monospace);\n      font-weight: var(--oc-font-weight-medium, 500);\n      flex: 1;\n    }\n\n    .tool-status-dot {\n      width: 6px;\n      height: 6px;\n      border-radius: 50%;\n    }\n\n    .tool-running { background: var(--oc-color-waiting, #f59e0b); animation: oc-pulse 1s infinite; }\n    .tool-success { background: var(--oc-color-running, #22c55e); }\n    .tool-error   { background: var(--oc-color-error,   #ef4444); }\n\n    .tool-duration {\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      color: var(--oc-color-text-muted, #6b7280);\n    }\n\n    .tool-expand-icon {\n      font-size: 10px;\n      color: var(--oc-color-text-muted, #6b7280);\n      transition: transform var(--oc-transition-fast, 150ms);\n    }\n\n    .tool-expand-icon.expanded {\n      transform: rotate(90deg);\n    }\n\n    .tool-call-body {\n      padding: var(--oc-space-sm, 8px);\n      font-size: var(--oc-font-size-xs, 0.75rem);\n      font-family: var(--oc-font-mono, monospace);\n      background: var(--oc-color-bg-primary, #fff);\n    }\n\n    .tool-call-section-label {\n      font-weight: var(--oc-font-weight-semibold, 600);\n      color: var(--oc-color-text-muted, #6b7280);\n      margin-bottom: 2px;\n    }\n\n    .tool-call-text {\n      white-space: pre-wrap;\n      word-break: break-all;\n      color: var(--oc-color-text-secondary, #374151);\n      margin-bottom: var(--oc-space-xs, 4px);\n    }\n\n    /* â”€â”€â”€ Action buttons â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n\n    .actions {\n      padding: var(--oc-space-md, 16px);\n      display: flex;\n      gap: var(--oc-space-sm, 8px);\n      flex-wrap: wrap;\n      border-bottom: 1px solid var(--oc-color-border, #e5e7eb);\n    }\n\n    .btn {\n      padding: var(--oc-space-xs, 4px) var(--oc-space-md, 16px);\n      border-radius: var(--oc-radius-sm, 4px);\n      border: 1px solid transparent;\n      cursor: pointer;\n      font-size: var(--oc-font-size-sm, 0.875rem);\n      font-weight: var(--oc-font-weight-medium, 500);\n      transition: background var(--oc-transition-fast, 150ms), opacity var(--oc-transition-fast, 150ms);\n    }\n\n    .btn-abort {\n      background: var(--oc-color-error, #ef4444);\n      color: white;\n    }\n\n    .btn-abort:hover { opacity: 0.85; }\n\n    .btn-steer {\n      background: var(--oc-color-accent, #6366f1);\n      color: white;\n    }\n\n    .btn-steer:hover { opacity: 0.85; }\n\n    .btn-inject {\n      background: transparent;\n      border-color: var(--oc-color-accent, #6366f1);\n      color: var(--oc-color-accent, #6366f1);\n    }\n\n    .btn-inject:hover {\n      background: var(--oc-color-accent-light, #eef2ff);\n    }\n\n    .input-row {\n      padding: 0 var(--oc-space-md, 16px) var(--oc-space-md, 16px);\n      display: flex;\n      gap: var(--oc-space-sm, 8px);\n    }\n\n    .text-input {\n      flex: 1;\n      border: 1px solid var(--oc-color-border-strong, #d1d5db);\n      border-radius: var(--oc-radius-sm, 4px);\n      padding: var(--oc-space-xs, 4px) var(--oc-space-sm, 8px);\n      font-family: var(--oc-font-sans, sans-serif);\n      font-size: var(--oc-font-size-sm, 0.875rem);\n    }\n\n    .btn-send {\n      padding: var(--oc-space-xs, 4px) var(--oc-space-sm, 8px);\n      border-radius: var(--oc-radius-sm, 4px);\n      border: none;\n      background: var(--oc-color-accent, #6366f1);\n      color: white;\n      cursor: pointer;\n      font-size: var(--oc-font-size-sm, 0.875rem);\n    }\n\n    /* â”€â”€â”€ Confirm dialog â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n\n    .confirm-overlay {\n      position: fixed;\n      inset: 0;\n      background: var(--oc-color-bg-overlay, rgba(0,0,0,0.4));\n      z-index: var(--oc-z-modal, 200);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .confirm-dialog {\n      background: var(--oc-color-bg-primary, #fff);\n      border-radius: var(--oc-radius-lg, 12px);\n      padding: var(--oc-space-lg, 24px);\n      max-width: 400px;\n      width: 90%;\n      box-shadow: var(--oc-shadow-lg);\n    }\n\n    .confirm-dialog h3 {\n      margin: 0 0 var(--oc-space-sm, 8px);\n      font-size: var(--oc-font-size-md, 1rem);\n    }\n\n    .confirm-dialog p {\n      margin: 0 0 var(--oc-space-md, 16px);\n      color: var(--oc-color-text-muted, #6b7280);\n      font-size: var(--oc-font-size-sm, 0.875rem);\n    }\n\n    .confirm-actions {\n      display: flex;\n      justify-content: flex-end;\n      gap: var(--oc-space-sm, 8px);\n    }\n\n    .btn-cancel {\n      background: var(--oc-color-bg-secondary, #f9fafb);\n      border: 1px solid var(--oc-color-border, #e5e7eb);\n      color: var(--oc-color-text-secondary, #374151);\n    }\n\n    /* â”€â”€â”€ Empty state â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n\n    .empty-state {\n      padding: var(--oc-space-xl, 40px);\n      text-align: center;\n      color: var(--oc-color-text-muted, #6b7280);\n    }\n\n    @keyframes oc-pulse {\n      0%, 100% { opacity: 1; }\n      50%       { opacity: 0.4; }\n    }\n  `;\n\n  private handleEvent(event: ActivityEvent): void {\n    if (!this.session || event.sessionKey !== this.session.sessionKey) return;\n    // Events targeting this session would update streaming output / tool calls\n    // In a real implementation, these would be handled by the parent store\n    this.requestUpdate();\n  }\n\n  private toggleToolCall(id: string): void {\n    const next = new Set(this.expandedToolCallIds);\n    if (next.has(id)) {\n      next.delete(id);\n    } else {\n      next.add(id);\n    }\n    this.expandedToolCallIds = next;\n  }\n\n  private handleAbort(): void {\n    this.showAbortConfirm = true;\n  }\n\n  private confirmAbort(): void {\n    if (!this.session) return;\n    WsService.getInstance().send({\n      type: 'chat.abort',\n      sessionKey: this.session.sessionKey,\n    });\n    this.showAbortConfirm = false;\n    this.dispatchEvent(new CustomEvent('session-aborted', {\n      detail: { sessionKey: this.session.sessionKey },\n      bubbles: true,\n      composed: true,\n    }));\n  }\n\n  private handleSteer(): void {\n    if (!this.session || !this.steerText.trim()) return;\n    WsService.getInstance().send({\n      type: 'sessions.send',\n      sessionKey: this.session.sessionKey,\n      message: this.steerText.trim(),\n    });\n    this.steerText = '';\n    this.showSteerInput = false;\n  }\n\n  private handleInject(): void {\n    if (!this.session || !this.injectText.trim()) return;\n    WsService.getInstance().send({\n      type: 'chat.inject',\n      sessionKey: this.session.sessionKey,\n      message: this.injectText.trim(),\n    });\n    this.injectText = '';\n    this.showInjectInput = false;\n  }\n\n  private navigateTo(sessionKey: string): void {\n    this.dispatchEvent(new CustomEvent('session-selected', {\n      detail: { sessionKey },\n      bubbles: true,\n      composed: true,\n    }));\n  }\n\n  private renderBreadcrumb(): TemplateResult {\n    const s = this.session!;\n    const parts: TemplateResult[] = [];\n\n    if (s.parentSessionKey) {\n      parts.push(html`\n        <span\n          class=\"breadcrumb-item\"\n          @click=\"${() => this.navigateTo(s.parentSessionKey!)}\"\n          tabindex=\"0\"\n          role=\"button\"\n          @keydown=\"${(e: KeyboardEvent) => { if (e.key === 'Enter') this.navigateTo(s.parentSessionKey!); }}\"\n        >${s.parentSessionKey.slice(0, 10)}â€¦</span>\n        <span class=\"breadcrumb-sep\">â€º</span>\n      `);\n    }\n\n    parts.push(html`<span class=\"breadcrumb-item current\">${s.label ?? s.sessionKey.slice(0, 14)}â€¦</span>`);\n\n    for (const childKey of (s.childSessionKeys ?? [])) {\n      parts.push(html`\n        <span class=\"breadcrumb-sep\">â€º</span>\n        <span\n          class=\"breadcrumb-item\"\n          @click=\"${() => this.navigateTo(childKey)}\"\n          tabindex=\"0\"\n          role=\"button\"\n          @keydown=\"${(e: KeyboardEvent) => { if (e.key === 'Enter') this.navigateTo(childKey); }}\"\n        >${childKey.slice(0, 10)}â€¦</span>\n      `);\n    }\n\n    return html`<div class=\"breadcrumb\" aria-label=\"Session lineage\">${parts}</div>`;\n  }\n\n  private renderToolCallItem(tc: ToolCallRecord): TemplateResult {\n    const expanded = this.expandedToolCallIds.has(tc.id);\n    return html`\n      <div class=\"tool-call-item\" role=\"listitem\">\n        <div\n          class=\"tool-call-header\"\n          @click=\"${() => this.toggleToolCall(tc.id)}\"\n          tabindex=\"0\"\n          role=\"button\"\n          aria-expanded=\"${expanded}\"\n          @keydown=\"${(e: KeyboardEvent) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); this.toggleToolCall(tc.id); } }}\"\n        >\n          <span class=\"tool-status-dot tool-${tc.status}\"></span>\n          <span class=\"tool-name\">${tc.toolName}</span>\n          ${tc.durationMs != null\n            ? html`<span class=\"tool-duration\">${tc.durationMs}ms</span>`\n            : nothing\n          }\n          <span class=\"tool-expand-icon ${expanded ? 'expanded' : ''}\">â–¶</span>\n        </div>\n        ${expanded\n          ? html`\n              <div class=\"tool-call-body\">\n                <div class=\"tool-call-section-label\">Args</div>\n                <pre class=\"tool-call-text\">${tc.args}</pre>\n                ${tc.result\n                  ? html`\n                      <div class=\"tool-call-section-label\">Result</div>\n                      <pre class=\"tool-call-text\">${tc.result}</pre>\n                    `\n                  : nothing\n                }\n              </div>\n            `\n          : nothing\n        }\n      </div>\n    `;\n  }\n\n  override render() {\n    if (!this.session) {\n      return html`<div class=\"empty-state\">Select a session to inspect</div>`;\n    }\n\n    const s = this.session;\n    const tokens = s.tokenAccumulator;\n    const costStr = tokens.estimatedCostUsd != null\n      ? `$${tokens.estimatedCostUsd.toFixed(4)}`\n      : null;\n\n    return html`\n      <!-- Abort confirmation dialog -->\n      ${this.showAbortConfirm\n        ? html`\n            <div class=\"confirm-overlay\" role=\"dialog\" aria-modal=\"true\" aria-label=\"Confirm abort\">\n              <div class=\"confirm-dialog\">\n                <h3>Abort session?</h3>\n                <p>This will immediately stop the running agent. This action cannot be undone.</p>\n                <div class=\"confirm-actions\">\n                  <button class=\"btn btn-cancel\" @click=\"${() => { this.showAbortConfirm = false; }}\">Cancel</button>\n                  <button class=\"btn btn-abort\" @click=\"${this.confirmAbort}\">Abort</button>\n                </div>\n              </div>\n            </div>\n          `\n        : nothing\n      }\n\n      <div class=\"panel-header\">\n        <div class=\"panel-title\">\n          <span class=\"status-badge status-${s.status}\" aria-label=\"Status: ${s.status}\"></span>\n          ${s.label ?? s.sessionKey}\n        </div>\n        ${this.renderBreadcrumb()}\n      </div>\n\n      <!-- Meta -->\n      <dl class=\"meta-grid\">\n        <dt class=\"meta-key\">Session</dt>\n        <dd class=\"meta-val\">${s.sessionKey}</dd>\n        <dt class=\"meta-key\">Model</dt>\n        <dd class=\"meta-val\">${s.model}</dd>\n        <dt class=\"meta-key\">Channel</dt>\n        <dd class=\"meta-val\">${s.channel}</dd>\n        ${s.taskSummary\n          ? html`<dt class=\"meta-key\">Task</dt><dd class=\"meta-val\">${s.taskSummary}</dd>`\n          : nothing\n        }\n      </dl>\n\n      <!-- Token bar -->\n      <div class=\"token-bar\" aria-label=\"Token usage\">\n        <span class=\"token-stat\">In: <strong>${tokens.inputTokens.toLocaleString()}</strong></span>\n        <span class=\"token-stat\">Out: <strong>${tokens.outputTokens.toLocaleString()}</strong></span>\n        <span class=\"token-stat\">Total: <strong>${tokens.totalTokens.toLocaleString()}</strong></span>\n        ${costStr ? html`<span class=\"token-stat\">Cost: <strong>${costStr}</strong></span>` : nothing}\n      </div>\n\n      <!-- Streaming output -->\n      ${this.streamingOutput\n        ? html`\n            <div class=\"section\">\n              <div class=\"section-title\">Live output</div>\n              <pre class=\"stream-output\" aria-live=\"polite\" aria-atomic=\"false\">${this.streamingOutput}</pre>\n            </div>\n          `\n        : nothing\n      }\n\n      <!-- Tool calls -->\n      ${this.toolCalls.length > 0\n        ? html`\n            <div class=\"section\">\n              <div class=\"section-title\">Tool calls (${this.toolCalls.length})</div>\n              <div role=\"list\" aria-label=\"Tool call log\">\n                ${this.toolCalls.map((tc) => this.renderToolCallItem(tc))}\n              </div>\n            </div>\n          `\n        : nothing\n      }\n\n      <!-- Actions -->\n      <div class=\"actions\">\n        <button\n          class=\"btn btn-abort\"\n          @click=\"${this.handleAbort}\"\n          aria-label=\"Abort session\"\n          ?disabled=\"${s.status === 'idle'}\"\n        >ðŸ›‘ Abort</button>\n        <button\n          class=\"btn btn-steer\"\n          @click=\"${() => { this.showSteerInput = !this.showSteerInput; }}\"\n          aria-label=\"Steer session\"\n          aria-expanded=\"${this.showSteerInput}\"\n        >â†© Steer</button>\n        <button\n          class=\"btn btn-inject\"\n          @click=\"${() => { this.showInjectInput = !this.showInjectInput; }}\"\n          aria-label=\"Inject message\"\n          aria-expanded=\"${this.showInjectInput}\"\n        >ðŸ’‰ Inject</button>\n      </div>\n\n      ${this.showSteerInput\n        ? html`\n            <div class=\"input-row\">\n              <input\n                class=\"text-input\"\n                type=\"text\"\n                placeholder=\"Send steering messageâ€¦\"\n                .value=\"${this.steerText}\"\n                @input=\"${(e: InputEvent) => { this.steerText = (e.target as HTMLInputElement).value; }}\"\n                @keydown=\"${(e: KeyboardEvent) => { if (e.key === 'Enter') this.handleSteer(); if (e.key === 'Escape') { this.showSteerInput = false; } }}\"\n                aria-label=\"Steering message\"\n              />\n              <button class=\"btn-send\" @click=\"${this.handleSteer}\">Send</button>\n            </div>\n          `\n        : nothing\n      }\n\n      ${this.showInjectInput\n        ? html`\n            <div class=\"input-row\">\n              <input\n                class=\"text-input\"\n                type=\"text\"\n                placeholder=\"Inject system messageâ€¦\"\n                .value=\"${this.injectText}\"\n                @input=\"${(e: InputEvent) => { this.injectText = (e.target as HTMLInputElement).value; }}\"\n                @keydown=\"${(e: KeyboardEvent) => { if (e.key === 'Enter') this.handleInject(); if (e.key === 'Escape') { this.showInjectInput = false; } }}\"\n                aria-label=\"Inject message\"\n              />\n              <button class=\"btn-send\" @click=\"${this.handleInject}\">Send</button>\n            </div>\n          `\n        : nothing\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'oc-session-detail': OcSessionDetail;\n  }\n}\n","import { runDemoScenario } from './demo/demo-scenario.js';\n/**\n * <oc-agents-view> â€” the main \"Agents\" panel that integrates all sub-components.\n *\n * Layout:\n *  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n *  â”‚  <oc-resource-bar>  (top bar)                â”‚\n *  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n *  â”‚              â”‚                              â”‚\n *  â”‚  Agent Tree  â”‚  Activity Feed               â”‚\n *  â”‚  (left pane) â”‚  (center pane)               â”‚\n *  â”‚              â”‚                              â”‚\n *  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n *  â”‚  Session Detail Panel (slide-in, right)      â”‚\n *  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n */\n\nimport { LitElement, html, css, nothing } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\nimport { WsService } from './services/ws-service.js';\nimport { WsEventController } from './services/ws-reactive-controller.js';\nimport type { SessionSummary, ToolCallRecord, UiFilter, ResourceMetrics } from './types/ui-state.js';\nimport type { ActivityEvent } from './types/gateway-events.js';\nimport { defaultUiFilter } from './types/ui-state.js';\n\n// Import all components\nimport './components/oc-resource-bar.js';\nimport './components/oc-agent-tree.js';\nimport './components/oc-activity-feed.js';\nimport './components/oc-session-detail.js';\nimport './components/oc-ws-status.js';\n\nconst GATEWAY_WS_URL = (window as Window & { OPENCLAW_GATEWAY_WS?: string }).OPENCLAW_GATEWAY_WS\n  ?? 'ws://localhost:4000';\n\n@customElement('oc-agents-view')\nexport class OcAgentsView extends LitElement {\n  @state() private sessions: SessionSummary[] = [];\n  @state() private selectedSessionKey = '';\n  @state() private filter: UiFilter = defaultUiFilter();\n  @state() private metrics: ResourceMetrics = {\n    activeSessions: 0,\n    tokensThisHour: 0,\n    activeToolCalls: 0,\n    errorCount: 0,\n    lastUpdated: new Date().toISOString(),\n  };\n\n  private readonly sessionMap = new Map<string, SessionSummary>();\n\n  private readonly wsCtrl = new WsEventController(\n    this,\n    ['session.created', 'session.destroyed', 'run.started', 'run.completed',\n     'run.aborted', 'tool.started', 'tool.completed', 'subagent.spawned', 'subagent.completed'],\n    (event) => this.handleGatewayEvent(event as ActivityEvent)\n  );\n\n  static override styles = css`\n    :host {\n      display: flex;\n      flex-direction: column;\n      height: 100vh;\n      overflow: hidden;\n      background: var(--oc-color-bg-primary, #fff);\n    }\n\n    .main-layout {\n      display: flex;\n      flex: 1;\n      overflow: hidden;\n    }\n\n    .left-pane {\n      width: 260px;\n      flex-shrink: 0;\n      border-right: 1px solid var(--oc-color-border, #e5e7eb);\n      overflow-y: auto;\n    }\n\n    .center-pane {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      overflow: hidden;\n    }\n\n    .right-pane {\n      width: 360px;\n      flex-shrink: 0;\n      border-left: 1px solid var(--oc-color-border, #e5e7eb);\n      overflow-y: auto;\n      transition: width var(--oc-transition-normal, 300ms ease),\n                  opacity var(--oc-transition-normal, 300ms ease);\n    }\n\n    .right-pane.collapsed {\n      width: 0;\n      opacity: 0;\n      overflow: hidden;\n    }\n\n    /* Responsive: single column on narrow screens */\n    @media (max-width: 768px) {\n      .main-layout { flex-direction: column; }\n      .left-pane { width: 100%; height: 200px; border-right: none; border-bottom: 1px solid var(--oc-color-border, #e5e7eb); }\n      .right-pane { width: 100%; border-left: none; border-top: 1px solid var(--oc-color-border, #e5e7eb); }\n      .right-pane.collapsed { height: 0; width: 100%; }\n    }\n  `;\n\n  override connectedCallback(): void {\n    super.connectedCallback();\n\n    const isDemo = new URLSearchParams(window.location.search).has('demo')\n      || window.location.hostname === 'localhost';\n\n    if (isDemo) {\n      // Demo mode: inject fake events directly, no real gateway needed\n      setTimeout(() => runDemoScenario(), 800);\n    } else {\n      WsService.getInstance().connect(GATEWAY_WS_URL);\n      WsService.getInstance().send({ type: 'sessions.list' });\n    }\n  }\n\n  private handleGatewayEvent(event: ActivityEvent): void {\n    switch (event.eventKind) {\n      case 'session.created':\n        this.upsertSession({\n          sessionKey: event.sessionKey,\n          model: event.model,\n          channel: event.channel,\n          label: event.label,\n          status: 'idle',\n          createdAt: event.timestamp,\n          uptimeSeconds: 0,\n          parentSessionKey: event.parentSessionKey,\n          childSessionKeys: [],\n          tokenAccumulator: { inputTokens: 0, outputTokens: 0, totalTokens: 0 },\n        });\n        break;\n      case 'session.destroyed':\n        this.removeSession(event.sessionKey);\n        break;\n      case 'run.started':\n        this.patchSession(event.sessionKey, { status: 'running', taskSummary: event.taskSummary });\n        break;\n      case 'run.completed':\n        this.patchSession(event.sessionKey, {\n          status: 'idle',\n          tokenAccumulator: this.mergeTokens(event.sessionKey, event.tokenCounts),\n        });\n        break;\n      case 'run.aborted':\n        this.patchSession(event.sessionKey, { status: 'error' });\n        break;\n      case 'subagent.spawned': {\n        const parent = this.sessionMap.get(event.parentSessionKey);\n        if (parent) {\n          this.patchSession(event.parentSessionKey, {\n            childSessionKeys: [...new Set([...(parent.childSessionKeys ?? []), event.childSessionKey])],\n          });\n        }\n        break;\n      }\n    }\n\n    this.updateMetrics();\n  }\n\n  private upsertSession(session: SessionSummary): void {\n    this.sessionMap.set(session.sessionKey, session);\n    this.sessions = [...this.sessionMap.values()];\n  }\n\n  private patchSession(sessionKey: string, patch: Partial<SessionSummary>): void {\n    const existing = this.sessionMap.get(sessionKey);\n    if (!existing) return;\n    this.sessionMap.set(sessionKey, { ...existing, ...patch });\n    this.sessions = [...this.sessionMap.values()];\n  }\n\n  private removeSession(sessionKey: string): void {\n    this.sessionMap.delete(sessionKey);\n    this.sessions = [...this.sessionMap.values()];\n    if (this.selectedSessionKey === sessionKey) {\n      this.selectedSessionKey = '';\n    }\n  }\n\n  private mergeTokens(\n    sessionKey: string,\n    incoming: { inputTokens: number; outputTokens: number; totalTokens: number; estimatedCostUsd?: number }\n  ) {\n    const acc = this.sessionMap.get(sessionKey)?.tokenAccumulator ?? { inputTokens: 0, outputTokens: 0, totalTokens: 0 };\n    return {\n      inputTokens: acc.inputTokens + incoming.inputTokens,\n      outputTokens: acc.outputTokens + incoming.outputTokens,\n      totalTokens: acc.totalTokens + incoming.totalTokens,\n      estimatedCostUsd: (acc.estimatedCostUsd ?? 0) + (incoming.estimatedCostUsd ?? 0),\n    };\n  }\n\n  private updateMetrics(): void {\n    const active = this.sessions.filter((s) => s.status === 'running').length;\n    this.metrics = {\n      ...this.metrics,\n      activeSessions: active,\n      lastUpdated: new Date().toISOString(),\n    };\n  }\n\n  private get selectedSession(): SessionSummary | null {\n    return this.sessionMap.get(this.selectedSessionKey) ?? null;\n  }\n\n  private handleSessionSelected(e: CustomEvent<{ sessionKey: string }>): void {\n    this.selectedSessionKey = e.detail.sessionKey;\n  }\n\n  private handleFilterChange(e: CustomEvent<UiFilter>): void {\n    this.filter = e.detail;\n  }\n\n  override render() {\n    return html`\n      <oc-resource-bar .metrics=\"${this.metrics}\"></oc-resource-bar>\n      <div class=\"main-layout\">\n        <aside class=\"left-pane\" aria-label=\"Agent tree\">\n          <oc-agent-tree\n            .sessions=\"${this.sessions}\"\n            .selectedKey=\"${this.selectedSessionKey}\"\n            @session-selected=\"${this.handleSessionSelected}\"\n          ></oc-agent-tree>\n        </aside>\n\n        <main class=\"center-pane\" aria-label=\"Activity feed\">\n          <oc-activity-feed\n            .filter=\"${this.filter}\"\n            @filter-change=\"${this.handleFilterChange}\"\n          ></oc-activity-feed>\n        </main>\n\n        <aside\n          class=\"right-pane ${this.selectedSessionKey ? '' : 'collapsed'}\"\n          aria-label=\"Session detail\"\n        >\n          ${this.selectedSessionKey\n            ? html`\n                <oc-session-detail\n                  .session=\"${this.selectedSession}\"\n                  .toolCalls=\"${[] as ToolCallRecord[]}\"\n                  @session-selected=\"${this.handleSessionSelected}\"\n                  @session-aborted=\"${() => { this.selectedSessionKey = ''; }}\"\n                ></oc-session-detail>\n              `\n            : nothing\n          }\n        </aside>\n      </div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'oc-agents-view': OcAgentsView;\n  }\n}\n"],"names":["WS_STATUS_CHANGE_EVENT","MAX_SEND_QUEUE","BASE_BACKOFF_MS","MAX_BACKOFF_MS","JITTER_FACTOR","MAX_RETRIES_BEFORE_PAUSE","PAUSE_AFTER_MAX_RETRIES_MS","_WsService","url","eventKind","handler","entry","s","message","listener","e","event","raw","parsed","kind","sub","_a","base","jitter","delay","status","WsService","ms","resolve","ts","runDemoScenario","ws","dispatch","subs","t","o","n$3","r","n","i","S","c","h","a","l","p","d","u","f","b","y$1","_b","y","v","_","m","g","$","x","E","A","C","P","V","N","I","L","z","H","M","R","k","Z","j","B","D","WsEventController","host","eventKinds","unsub","defaultUiFilter","OcWsStatus","LitElement","html","_changedProps","css","__decorateClass","state","customElement","OcResourceBar","tc","sessions","tokens","toolCalls","errors","property","i$1","w","SessionLineageMap","sessionKey","parentSessionKey","siblings","parentKey","children","child","rootKey","childKey","OcAgentTree","sessionMap","session","roots","buildNode","summary","next","node","idx","uptime","nothing","nodes","depth","repeat","tree","activeCount","batchDebounce","fn","buffer","timer","item","batch","MAX_EVENTS","VIRTUAL_WINDOW","BATCH_MS","cardCounter","eventToCard","color","getEventColor","label","getEventLabel","detail","getEventDetail","formatRelativeTime","isoTimestamp","diff","OcActivityFeed","cards","combined","card","filtered","el","visible","query","OcSessionDetail","id","parts","expanded","costStr","GATEWAY_WS_URL","OcAgentsView","parent","patch","existing","incoming","acc","active"],"mappings":"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AAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;A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","x_google_ignoreList":[2,3,4,5,6,7,8,9,10,15,16,17]}